[{"uri":"/pakker-og-rstudio/visuelr1/","title":"Visuel beskrivelse af RStudio 1","tags":[],"description":"","content":"Visuel beskrivelse af RStudio 1 Efter i har installeret RStudio kan i åbne RStudio ved at finde ikonet på skrivebordet eller søge efter det på computeren. Bemærk, at i skal åbne RStudio og IKKE R. Det første vindue i møder ser sådan her ud (bemærk at jeres version er anderledes end nedenstående):\nSom RStudio åbner er der sædvanligvis 3 vinduer - men når vi arbejder er der konsekvent 4 vinduer vi interagerer med. Vindue 1 hedder her \u0026ldquo;Console\u0026rdquo;. Console er stedet hvor RStudio \u0026ldquo;skriver\u0026rdquo; til os. Når vi beder RStudio gøre noget, så kommer det output vi beder om i konsollen. Konsollen er også det sted vi kan kommunikere direkte med RStudio via enkelte linjers kode. Vi kan f.eks. tjekke versionen vi har installeret af R ved at skrive: version og trykke \u0026ldquo;Enter\u0026rdquo;. Når i gør det, kan i se at der nu i konsollen står noget der minder om:\nI skal ikke være bekymrede for, at jeres version er anderledes end ovenstående - dette er kun eksempler. Fælles for alle versionerne er, at de har et kælenavn. Denne versions kælenavn er: \u0026ldquo;Lost Library Book\u0026rdquo;. Den information kan vi ikke bruge til noget, andet end at vi kan tænke, at det er fjollet :)\nDet næste vindue er \u0026ldquo;Environment\u0026rdquo;. Miljøet viser det data vi har indlæst. Eftersom vi ikke har indlæst noget, så står miljøet som tomt.\nDet sidste vindue har en masse faner, men åbner oftest i \u0026ldquo;plots\u0026rdquo;. Dette vindue viser de grafer vi laver.\nDet sidste vindue, som vi ikke har set endnu er script-vinduet. Dette kan i læse om på næste side.\n"},{"uri":"/intro-til-r-1/hvad-er-r/","title":"Hvad er R?","tags":[],"description":"","content":"Hvad er R? R er et gratis analyseprogram med sit eget kommandosprog.\nProgrammet egner sig især til kvantiative analyser og visualiseringer af kvantitative data.\nR kan arbejde med mange forskellige dataformater. Da programmet er \u0026ldquo;open source\u0026rdquo;, findes ufattelig mange udvidelser til programmet, der tilføjer funktioner.\nRStudio R i sig selv er meget begrænset. RStudio tilføjer en brugerflade ovenpå R, der gør det rarere at arbejde med.\nMan arbejder typisk i RStudio, når man bruger R.\nAt arbejde med R R har sit eget kodesprog. R fungerer ved at man skriver kommandoer i R sproget, som R derefter \u0026ldquo;fortolker\u0026rdquo;.\nR (og RStudio) har en meget begrænset brugerflade. Det betyder, at næsten alt vi vil i R (statistik, visualisering osv.), skal ske ved at skrive koder i R sproget.\nR som lommeregner Hvad menes med at R \u0026ldquo;fortolker\u0026rdquo; kode?\n\u0026ldquo;Fortolkning\u0026rdquo; i R er blot et spørgsmål om R forstår, hvad du forsøger at gøre. Man får R til at gøre ting ved at skrive kommandoer. Hvis R forstår det, gør R den ting. Hvis R ikke forstår det, får man en fejl.\nR kan fx forstå matematiske operationer:\n7 * 6 42 912 - 132 780 R kan dog ikke forstå tilfældige kommandoer:\nlav min eksamensopgave Error in parse(text = x, srcfile = src): \u0026lt;text\u0026gt;:1:5: uventet symbol 1: lav min ^ Traceback: Brug af R scripts Script filer er tekst filer med kode, som R kan forstå/fortolke.\nEn script-fil kan forstås som en \u0026ldquo;analyseopskrift\u0026rdquo;, der indeholder alle kommandoer nødvendige for at foretage en analyse. Det tillader også, at man nemt kan køre kommandoer igen.\nMan bør altid skrive de kommandoer, som man bruger, ind i et script. Brug derfor kun konsolvinduet til at finde frem til den rigtige kommando.\n# kan bruges til kommentarer (ignoreres når man kører koden) Ctrl + Enter (Windows), Command + Enter (Mac): Kører aktuel linje eller selektion BEMÆRK! Der er ingen fortryd-knap i R! Når koden er kørt, er ændringen sket. Den eneste måde at \u0026ldquo;fortryde\u0026rdquo; er ved at genskabe det, som man har lavet, ved at køre tidligere kode igen. Netop derfor er scripts vigtige.\n"},{"uri":"/velkommen/indhold/","title":"Indhold","tags":[],"description":"","content":"Sidens grundlæggende symbolik Siden fungerer som et sted hvor vi præsenterer jer for mange forskellige visuelle virkemidler. Links kan forekomme i teksten, og links vil altid forekomme som tekst i anden farve I kan trykke på. Hvis teksten bliver blå, indikerer det et link.\nDer kan også forekomme videoer. Videoer optræder på siden sådan her og kan afspilles direkte fra siden: Der kan også forekomme kode på siden som er designet til at virke i R. Når i læser dette i kronologisk rækkefølge giver \u0026ldquo;kode\u0026rdquo; ikke så meget mening, men senere vil i kunne gennemskue hvad det betyder. Kode forekommer sådan:\n# Det her er en kodeblok # Der kan være alle mulige ting her # Fælles er, at de kan køre i R # Kommentarer med med # foran Der kan også forekomme enkelte linjer med kode. For at gøre det så let som muligt, vil enkelte linjer med kode optræde sådan her:\nprint(\u0026quot;Hello world!\u0026quot;)\nNår dette optræder kan i let kopiere linjen ved at trykke på det lille clipboard-ikon der optræder til højre for koden. Når i klikker der bliver koden kopieret og i kan let indsætte det i R, som i lærer at installere lige om lidt.\n"},{"uri":"/ops%C3%A6tning-af-r/inst_win/","title":"Installation på Windows","tags":[],"description":"","content":"Installation af R og RStudio på Windows Download R For at bruge RStudio bliver vi nødt til at installere R først. R kan installeres ved at gå til siden cran.r-project.org hvor i øverst kan se et link hvor der står \u0026ldquo;Download R for Windows\u0026rdquo;. I bliver ført videre til en side hvor i har flere valgmuligheder - i skal her vælge: \u0026ldquo;base\u0026rdquo;. Øverst på den sidste side skal i trykke på \u0026ldquo;Download R for Windows\u0026rdquo;. Den nyeste version ændrer sig ofte og den bliver altid vist som det primære valg man kan træffe på den side.\nInstallation af R Installation af R er ligetil; kør den .exe-fil i har downloadet og følg den step-by-step guide der kommer. Med mindre i ønsker at ændre hvor R skal installeres, så kan i trykke: \u0026ldquo;Næste\u0026rdquo; til samtlige punkter uden at ændre jeres valg.\nDownload og installation af RStudio RStudio skal installeres efterfølgende og i finder RStudio på dette link: rstudio.com. Scroll ned på siden og vælg: \u0026ldquo;RStudio Desktop\u0026rdquo;. Vælg den gratis udgave. Hjemmesiden finder selv ud af, hvilket operativsystem i bruger og i kan derfor trykke på knappen: \u0026ldquo;Download RStudio for Windows\u0026rdquo;.\nInstallationen er som ved installation af R - åben .exe-filen og følg guiden. I behøver ikke ændre noget, med mindre i selv vil vælge placering for installation.\n"},{"uri":"/velkommen/","title":"Sidens funktionalitet","tags":[],"description":"","content":"Sidens funktionalitet Siden fungerer både som introdktionsmateriale, suplerende litteratur, øvelsesvideoer og \u0026ldquo;chreat sheets\u0026rdquo; til at huske hvordan de forskellige metoder og funktioner i metode og R virker. Siden er bygget op lineært, sådan at i kan læse den ved at kontinuerligt trykke på den blå pil/trekant længst til højre på siden. Den fører jer videre til næste sektion hele vejen igennem kurset. Som i bliver fortrolige med siden og de ting der forekommer på siden (og særligt når forelæsningerne for alvor begynder) kan i i stedet lave en hurtigere navigation ved at trykke på en af hovedoverskrifterne til venstre for at se indholdet til hvert modul.\nPå næste side bliver forskellig symbolik og visuelle værktøjer blive præsenteret. Start med at klikke på den blå pil/trekant til højre.\n"},{"uri":"/intro-til-r-1/datah%C3%A5ndtering/filter/","title":"Udvælg rækker (filter)","tags":[],"description":"","content":"Udvælg rækker med filter filter funktionen tager mindst to input: et datasæt (en dataframe) og et kriterie.\nlibrary(dplyr) ess18_male \u0026lt;- filter(ess18, gndr == \u0026#39;Male\u0026#39;) # Subset kun med mænd head(ess18_male) A tibble: 6 × 17 idnonetustmppltrstvoteprtvtddkhealthlvpntyrtygrtrgndryrbrnedlvddkeduyrswkhctwkhtotgrspnumfrlgrspinwtm \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt; 5816 907YesSF Socialistisk Folkeparti - Socialist People's PartyGood 199460 Male1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,353737370003500061 78873608YesSocialdemokratiet - The Social democrats Fair 198355 Male1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks253939360004200089 123551205YesSocialdemokratiet - The Social democrats Fair 198760 Male1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 143837360003800048 163574885YesDansk Folkeparti - Danish People's Party Very good201350 Male1991Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 4373740000 NA50 20724 605YesVenstre, Danmarks Liberale Parti - The Liberal Party Good 1981Never too young Male1958Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 143740280003400065 249281208YesVenstre, Danmarks Liberale Parti - The Liberal Party Very good1984Should never retire permanentlyMale1965Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,19NA8050000 NA77 ess18_edusub \u0026lt;- filter(ess18, eduyrs \u0026gt; 15) # Subset med folk med mere end 15 års uddannelse head(ess18_edusub) A tibble: 6 × 17 idnonetustmppltrstvoteprtvtddkhealthlvpntyrtygrtrgndryrbrnedlvddkeduyrswkhctwkhtotgrspnumfrlgrspinwtm \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt; 5816 907YesSF Socialistisk Folkeparti - Socialist People's PartyGood 199460 Male 1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,353737370003500061 78873608YesSocialdemokratiet - The Social democrats Fair 198355 Male 1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks253939360004200089 199702409YesLiberal Alliance - Liberal Alliance Very good198460 Female1966Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks21363685000 NA42 222481219YesSocialdemokratiet - The Social democrats Good 1970Never too young Female1950Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,193737 NA NA62 249281208YesVenstre, Danmarks Liberale Parti - The Liberal Party Very good1984Should never retire permanentlyMale 1965Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,19NA8050000 NA77 272111207YesKristendemokraterne - Christian Democrats Fair 198360 Male 1969Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,16151726000 NA99 Bemærk! Ved brug af filter behøves kun at skrive navnet på variablen (eduyrs), og ikke både navn på variabel og datasæt, som man ellers typisk gør for at referere til enkeltkolonner i R (ess18$eduyrs). Dette behøves ikke, da filter antager, at variabelnavnet kommer fra det datasæt, som er angivet. Dette er gennemgående for de fleste tidyverse pakker og kommandoer (filter, select, mutate osv.)\nLogiske udtryk og logiske værdier I R skrives kriterier som \u0026ldquo;logiske udtryk\u0026rdquo;. Logiske udtryk er kommandoer, som altid returnere logiske værdier. Disse er altid enten TRUE eller FALSE (eller NA).\nEn række operationer i R returnerer altid logiske værdier:\n\u0026gt; \u0026gt;= \u0026lt; \u0026lt;= == != 42 \u0026gt; 10 TRUE\n10 != 10 FALSE\nfilter() forventer et logisk udtryk som kriterie, og bevarer så alle de observationer, som opfylder kriteriet.\n"},{"uri":"/intro-til-r-3/statistiske-modeller/","title":"Statistiske modeller i R","tags":[],"description":"","content":"Statistiske modeller i R Der er to dele i at få resultaterne af en statistisk model frem i R:\nSpecificér modellen (fx med en funktion som lm() for lineære modeller) Få koefficienter og resultater fra modellen (med brug af funktionen summary()) Specificér modellen R indeholder flere funktioner til at lave statistiske modeller. Hvilken model der skal bruges, afhænger af, hvilken type af statistisk model, som man skal lave.\nFunktionen lm() bruges fx til at specificere en lineær model (lineære sammenhænge - lineær og multipel lineær regression). Man specificerer en model ved at angive formlen for den sammenhæng, som man vil modellere.\nFormlen for en multipel lineær regression med tre uafhængige variable er fx:\n$y = \\beta_{0} + \\beta_{1} x_{1} + \\beta_{2}x_{2} + \\beta_{3}x_{3}$\nI R skrives denne formel som (læg mærke til at skæringspunktet med y-aksen ($\\beta_{0}$) ikke skal skrives ind, da denne bestemmes af modellen):\ny ~ x1 + x2 + x3\nNår man specificerer modellen i R, bruges variabelnavne/kolonnenavne fra data i formlen. Derudover specificeres det, hvilken dataframe, som variablerne tages fra.\nI nedenstående specificeres en model med selvrapporteret månedsløn (grspnum) som afhængig variabel og antal års uddannelse (eduyrs) og arbejdstimer om ugen (wkhtot) som uafhængige variable:\ngrsp_model \u0026lt;- lm(grspnum ~ eduyrs + wkhtot, data = ess18) Resultater fra model Læg mærke til at man kun får begrænsede resultater ved at blot at kalde modellen:\ngrsp_model Call: lm(formula = grspnum ~ eduyrs + wkhtot, data = ess18) Coefficients: (Intercept) eduyrs wkhtot -3668.7 891.1 888.4 For at få alle relevante resultater fra modellen (koefficienter, $R^2$, osv.) bruges funktionen summary():\nsummary(grsp_model) Call: lm(formula = grspnum ~ eduyrs + wkhtot, data = ess18) Residuals: Min 1Q Median 3Q Max -64614 -16639 -10324 -1448 2955649 Coefficients: Estimate Std. Error t value Pr(\u0026gt;|t|) (Intercept) -3668.7 20645.3 -0.178 0.8590 eduyrs 891.1 856.4 1.041 0.2984 wkhtot 888.4 458.2 1.939 0.0529 . --- Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 Residual standard error: 121600 on 707 degrees of freedom (575 observations deleted due to missingness) Multiple R-squared: 0.007698,\tAdjusted R-squared: 0.004891 F-statistic: 2.742 on 2 and 707 DF, p-value: 0.06511 "},{"uri":"/pakker-og-rstudio/visuelr2/","title":"Visuel beskrivelse af RStudio 2","tags":[],"description":"","content":"Visuel beskrivelse af RStudio 2 Måden vi interagerer med RStudio på er via scripts. I kan åbne et nyt script ved at gå i menuen \u0026ldquo;File\u0026rdquo;, trykke på \u0026ldquo;New File\u0026rdquo; og vælge \u0026ldquo;New R script\u0026rdquo;. Når i trykker på dette åbner RStudio et 4. vindue der ser sådan ud:\n\u0026ldquo;Source\u0026rdquo; er en måde at skrive, at det er her RStudio læser kode fra, som den efterfølgende skriver output til i konsollen nedenfor. Vores script er den primære måde vi interagerer med RStudio på - vi definerer mapper, åbner data og laver analyser i dette vindue og konsollen + plots viser hvad det er vores analyser peger på. Hvordan vi interagerer med scripts lærer i om til intro-forelæsningen til R.\n"},{"uri":"/ops%C3%A6tning-af-r/inst_mac/","title":"Installation på Mac","tags":[],"description":"","content":"Installation af R og RStudio på Mac Download R For at bruge RStudio bliver vi nødt til at installere R først. R kan installeres ved at gå til siden cran.r-project.org hvor i øverst kan se et link hvor der står \u0026ldquo;Download R for macOS\u0026rdquo;. Mac-brugere skal være opmærksom på, hvilken version af deres styresystem de har. Den nyeste version af R fungerer udelukkende på styresystemer 10.13 og op - det styresystem hedder \u0026ldquo;High Sierra\u0026rdquo;. Hvis i er i tvivl om, hvilket styresytem i har, kan i trykke på æble-logoet øverst til venstre på jeres Mac og vælge: \u0026ldquo;Om denne mac\u0026rdquo; eller \u0026ldquo;About this mac\u0026rdquo;. Der vil stå både navnet på styresystemet: \u0026ldquo;macOS xxxx\u0026rdquo; og versionen under. Hvis versionsnummeret er mindre end 10.13 skal i scrolle længere ned på siden hvor i kan vælge \u0026ldquo;Binaries for legacy OS X systems\u0026rdquo; og finde den nyeste version der kan installeres der.\nMed mindre i har en gammel mac kan i vælge den nyeste version ved at scrolle ned til \u0026ldquo;Latest release:\u0026rdquo; og vælge den øverste fil til venstre, der hedder noget i retningen af: \u0026ldquo;R-4.X.X.pkg\u0026rdquo; hvor X\u0026rsquo;erne er erstattet med tal.\nDet er værd at notere, at hvis i er tvunget til at installere en legacy-version vil der være tidspunkter, hvor i ikke kan gøre helt det samme som resten af semestret, fordi noget af funktionaliteten er anderledes i de ældre versioner. I får ligeledes problemer med RStudio, der ligeledes kun understøtter nyere operativsystemer. Overvejer derfor, om det måske ikke var tid til en ny computer\u0026hellip; der ikke var mac :)\nDen nyeste version ændrer sig ofte og den bliver altid vist som det primære valg man kan træffe på den side.\nInstallation af R Installation af R er ligetil; kør den .pkg-fil i har downloadet og følg den step-by-step guide der kommer. Med mindre i ønsker at ændre hvor R skal installeres, så kan i trykke: \u0026ldquo;Næste\u0026rdquo; til samtlige punkter uden at ændre jeres valg.\nDownload og installation af RStudio RStudio skal installeres efterfølgende og i finder RStudio på dette link: rstudio.com. Scroll ned på siden og vælg: \u0026ldquo;RStudio Desktop\u0026rdquo;. Vælg den gratis udgave. Hjemmesiden finder selv ud af, hvilket operativsystem i bruger og i kan derfor trykke på knappen: \u0026ldquo;Download RStudio for Mac\u0026rdquo;. Hvis den er forvirret og ikke selv kan gætte styresystem, kan i scrolle lidt ned på siden og vælge macOS.\nInstallationen ved at åben .dmg-filen og træk RStudio-ikonet ind i jeres applikationsmappe.\n"},{"uri":"/ops%C3%A6tning-af-r/","title":"Opsætning og installation af R","tags":[],"description":"","content":"Opsætning og installation af R VIGTIGT: At installere R er lidt mere besværligt end bare at trykke på nogle knapper. Følg derfor denne guide sådan at vi sikrer os, at der ikke er nogle uhensigtsmæssige installationer før vi har brug for at bruge R. Alle undervisere forventer, at i har installeret R til forelæsning 2.\nI denne menu er lavet en installationsguide for Windows og Mac. Hvis enkelte af jer bruger Chrome OS eller Linux antager vi, at i selv løser installation.\nFælles for alle installationerne er, at i skal kende forskel på R og Rstudio. R er det \u0026ldquo;sprog\u0026rdquo; vi anvender, når vi skal lave statistiske modeller, grafer og beregninger i dette fag. Rstudio er et program (også kaldet en GUI) der gør det nemmere for os at bruge sproget R. Man kan sagtens følge kurset uden brug af Rstudio, men det er absolut ikke anbefalelsesværdigt!\nPå næste side følger guide til installation af R på Windows. Siden efter er installation på mac.\n"},{"uri":"/intro-til-r-1/r-sproget_objekter/","title":"R Sproget: Objekter","tags":[],"description":"","content":"R Sproget: Objekter og funktioner R fungerer ved at lagre værdier og information i \u0026ldquo;objekter\u0026rdquo;. Disse objekter kan derefter bruges i forskellige funktioner. Funktioner kan være alt fra at udregne et gennemsnit, lave en figur, gemme et datasæt osv.\nForsimplet sagt: Et objekt er en eller anden lagret information, mens en funktion er noget, som kan bearbejde eller gøre noget ved informationen i et objekt.\nObjekter At arbejde med R involverer kontinuerligt at definere objekter. Objekter er blot et navn til at kalde lagret information frem igen.\nObjekter kan være mange ting:\net ord et tal en talrække et datasæt en matematisk formel et resultat en filsti en graf og så videre\u0026hellip; Når et objekt er defineret, er det tilgængeligt i det aktuelle arbejdsmiljø (dvs.: tilgængeligt indtil vi starter en ny R session eller fjerner det igen).\nDer er ingen grænser for mængden af objekter, som vi kan danne. Dette tillader at vi kan arbejde med meget forskellig information samtidig.\nDefinér objekter Objekter dannes ved brug af \u0026lt;- (Alt + -):\nyear \u0026lt;- 1964 year 1964 Hvis objektet indeholder et tal, kan R arbejde med det som ethvert andet tal.\nyear + 10 1974 Bemærk at R behandler store og små bogstaver som forskellige:\nYear # Findes ikke Error in eval(expr, envir, enclos): objekt 'Year' blev ikke fundet Traceback: Når man bruger ' ' eller\u0026quot; \u0026quot; fortæller man R, at inputtet skal behandles som tekst. Dette gælder også tal!\nname \u0026lt;- \u0026#34;keenan\u0026#34; name 'keenan' year_now \u0026lt;- \u0026#39;2021\u0026#39; year_now '2021' Bemærk at tal lagret som tekst også har citationstegn om sig. Tal lagret som tekst kan ikke bruges som tal:\nyear_now - 5 Error in year_now - 5: non-numeric argument to binary operator Traceback: Ovenstående fejl sker fordi R adskiller mellem forskellige objekter ved at tildele dem en class. Objektets class bestemmer kort sagt, hvad der er muligt med objektet.\nNavngivning af objekter Objekter kan hedde næsten hvad som helst. En god tommelfingerregel er at bruge navne, der indikerer, hvad objektet indeholder.\nRestriktioner ved navngivning De fleste specialtegn kan ikke bruges: /, ?, *, + (mange af disse betyder noget i R) Allerede eksisterende navne i R (overskriver den/det eksisterende funktion/objektet) Tips til navngivning Brug \u0026lsquo;_\u0026rsquo;: my_object, room_number Eller:\nLad hvert ord starte med stort bortset fra det første: myObject, roomNumber "},{"uri":"/intro-til-r-2/eksempel/","title":"Datahåndtering og visualisering i R: Et eksempel","tags":[],"description":"","content":"Datahåndtering og visualisering i R: Et eksempel Herunder foretages en række datahåndteringer på European Social Survey 2018 delsættet. Vi bruger dagen i dag på at forstå de forskellige datahåndteringsfunktioner (primært fra tidyverse - specifikt pakken dplyr).\nlibrary(dplyr) ess18_wh \u0026lt;- ess18 %\u0026gt;% mutate(age = 2018 - yrbrn) %\u0026gt;% filter(age \u0026gt;= 25) %\u0026gt;% filter(!(is.na(wkhtot))) %\u0026gt;% mutate(wkhtot_cat = case_when( wkhtot == 37 ~ \u0026#34;37 timer om ugen\u0026#34;, wkhtot \u0026lt; 37 ~ \u0026#34;Mindre end 37 timer\u0026#34;, wkhtot \u0026gt; 37 ~ \u0026#34;Mere end 37 timer\u0026#34;) ) %\u0026gt;% mutate(wkhtot_cat = factor(wkhtot_cat, levels = c(\u0026#34;Mindre end 37 timer\u0026#34;, \u0026#34;37 timer om ugen\u0026#34;, \u0026#34;Mere end 37 timer\u0026#34;), ordered = TRUE)) %\u0026gt;% mutate(gndr = factor(gndr, levels = c(\u0026#34;Male\u0026#34;, \u0026#34;Female\u0026#34;), labels = c(\u0026#34;Mand\u0026#34;, \u0026#34;Kvinde\u0026#34;))) %\u0026gt;% select(gndr, age, wkhtot, wkhtot_cat, netustm) Herunder dannes et barplot baseret på det sæt, som blev dannet i ovenstående kode. Vi vil ligeledes bruge dagen i dag på at forstå, hvordan denne visualisering er dannet (med brug af ggplot2 - også en del af tidyverse)\nlibrary(ggplot2) ggplot(ess18_wh, aes(x = wkhtot_cat, y = (..count..)/sum(..count..), fill = gndr)) + geom_bar(position = \u0026#34;dodge\u0026#34;) + scale_y_continuous(labels = scales::percent) + labs(title = \u0026#34;Arbejdstid fordelt på køn\u0026#34;, x = \u0026#34;Arbejdstid\u0026#34;, y = \u0026#34;Procent\u0026#34;, fill = \u0026#34;Køn\u0026#34;) "},{"uri":"/intro-til-r-3/statistiske-modeller/kategoriske/","title":"Kategoriske variable (factors) i modeller","tags":[],"description":"","content":"Kategoriske variable (factors) i modeller Som standard vil R behandle tekstvariable som unordered factors; altså nominalt skalerede variable.\nI nedenstående tilføjes variablen vote (hvorvidt man stemte til sidste folketingsvalg) til modellen fra før. vote er ikke kodet til factor:\ngrsp_vote_model \u0026lt;- lm(grspnum ~ eduyrs + wkhtot + vote, data = ess18) summary(grsp_vote_model) Call: lm(formula = grspnum ~ eduyrs + wkhtot + vote, data = ess18) Residuals: Min 1Q Median 3Q Max -62657 -17091 -10043 -1996 2954310 Coefficients: Estimate Std. Error t value Pr(\u0026gt;|t|) (Intercept) -11421.9 29407.5 -0.388 0.698 eduyrs 796.2 867.1 0.918 0.359 wkhtot 788.2 481.1 1.638 0.102 voteNot eligible to vote 2542.6 28612.8 0.089 0.929 voteYes 14414.7 23405.2 0.616 0.538 Residual standard error: 121800 on 704 degrees of freedom (576 observations deleted due to missingness) Multiple R-squared: 0.0087,\tAdjusted R-squared: 0.003068 F-statistic: 1.545 on 4 and 704 DF, p-value: 0.1875 Når man ikke har defineret en kategorisk som en factor, tager R kategorien, der kommer først alfabetisk, som referencekategori!\nDette kan ændres ved at definere variablen som factor og sætte referencekategorien. Herunder sættes \u0026ldquo;Yes\u0026rdquo; som referencekategori ved brug af funktionen relevel. Derefter dannes modellen igen:\ness18 \u0026lt;- ess18 %\u0026gt;% mutate(vote = as.factor(vote), vote = relevel(vote, ref = \u0026#34;Yes\u0026#34;) ) grsp_vote_model \u0026lt;- lm(grspnum ~ eduyrs + wkhtot + vote, data = ess18) summary(grsp_vote_model) Call: lm(formula = grspnum ~ eduyrs + wkhtot + vote, data = ess18) Residuals: Min 1Q Median 3Q Max -62657 -17091 -10043 -1996 2954310 Coefficients: Estimate Std. Error t value Pr(\u0026gt;|t|) (Intercept) 2992.8 22232.6 0.135 0.893 eduyrs 796.2 867.1 0.918 0.359 wkhtot 788.2 481.1 1.638 0.102 voteNo -14414.7 23405.2 -0.616 0.538 voteNot eligible to vote -11872.2 18477.7 -0.643 0.521 Residual standard error: 121800 on 704 degrees of freedom (576 observations deleted due to missingness) Multiple R-squared: 0.0087,\tAdjusted R-squared: 0.003068 F-statistic: 1.545 on 4 and 704 DF, p-value: 0.1875 "},{"uri":"/intro-til-r-2/factors/levels/","title":"Levels i en factor","tags":[],"description":"","content":"Levels i en factor Når man omdanner en variabel til en factor, fortæller man også R, at denne variabel kun kan indeholde nogle specifikke værdier. De værdier, som variablen kan indeholde, er dens \u0026ldquo;levels\u0026rdquo;.\nSer man fx på de unikke værdier i et subet kun med mænd, vil man se, at data kun indeholder værdien \u0026ldquo;Male\u0026rdquo;, men at de mulige værdier er \u0026ldquo;Male\u0026rdquo; og \u0026ldquo;Female\u0026rdquo;:\ness18_male_subset \u0026lt;- filter(ess18, gndr == \u0026#39;Male\u0026#39;) unique(ess18_male_subset$gndr) Male Levels: 'Female''Male' \u0026ldquo;Ordered\u0026rdquo; og \u0026ldquo;unordered\u0026rdquo; factors En factor vil som standard blive sat til \u0026ldquo;unordered\u0026rdquo; (nominalskaleret). Dette kan ændres ved at bruge funktionen factor() sammen med ordered = argumentet. Hvor as.factor() bruges til at konvertere værdierne i en variabel til ikke-rangordnede kategorier, så bruges factor() både til at styre hvilke kategorier, der skal indgå i factoren samt til at styre, om den skal være rangordnet eller ej.\nHerunder omdannes health-variablen (selvvurderet helbred) til en rangordnet factor, uden rækkefølgen specificeres:\n# Dan factor som rangordnet/ordinal (men hvilken rækkefølge?) ess18n \u0026lt;- ess18 %\u0026gt;% mutate(health_r = factor(health, ordered = TRUE)) unique(ess18n$health_r) GoodFairVery badVery goodBad\u0026lt;NA\u0026gt; Levels: 'Bad''Fair''Good''Very bad''Very good' Fordi rækkefølgen ikke er specificeret, antager R, at de skal sættes i alfabetisk rangorden. Dette betyder, at health_r variablen er kodet sådan, at \u0026ldquo;Very bad\u0026rdquo; betragtes som en højere værdi end \u0026ldquo;Good\u0026rdquo;:\nprint(ess18n$health_r[5]) print(ess18n$health_r[10]) ess18n$health_r[5] \u0026gt; ess18n$health_r[10] # Er \u0026#34;Very bad\u0026#34; højere end \u0026#34;Good\u0026#34;? [1] Very bad Levels: Bad \u0026lt; Fair \u0026lt; Good \u0026lt; Very bad \u0026lt; Very good [1] Good Levels: Bad \u0026lt; Fair \u0026lt; Good \u0026lt; Very bad \u0026lt; Very good TRUE\nR kan ikke vide, hvad der kommer først i rækkefølge ud fra tekstværdien alene, så det skal man selv specificere i rekodningen. Dette gøres ved at specificere levels i rækkefølgen lav til høj:\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(health_r = factor(health, levels = c(\u0026#39;Very bad\u0026#39;, \u0026#39;Bad\u0026#39;, \u0026#39;Fair\u0026#39;, \u0026#39;Good\u0026#39;, \u0026#39;Very good\u0026#39;), ordered = TRUE)) unique(ess18n$health_r) GoodFairVery badVery goodBad\u0026lt;NA\u0026gt; Levels: 'Very bad''Bad''Fair''Good''Very good' print(ess18n$health_r[5]) print(ess18n$health_r[10]) ess18n$health_r[5] \u0026gt; ess18n$health_r[10] # Er \u0026#34;Very bad\u0026#34; højere end \u0026#34;Good\u0026#34;? [1] Very bad Levels: Very bad \u0026lt; Bad \u0026lt; Fair \u0026lt; Good \u0026lt; Very good [1] Good Levels: Very bad \u0026lt; Bad \u0026lt; Fair \u0026lt; Good \u0026lt; Very good FALSE\nHusk! R tager ting meget bogstaveligt - herunder også tekstværdierne i en variabel. Når du specificerer levels, så sørg for at de er skrevet præcist, som de er angivet i variablen.\nVed at specificere levels fortæller man R, at variablen kun skal indeholde de værdier. Alle øvrige værdier bliver derfor sat til missing:\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(gndr_3 = factor(gndr, levels = c(\u0026#34;Male\u0026#34;, \u0026#34;Other\u0026#34;))) table(ess18n$gndr_3) Male Other 655 0 For at hjælpe sig selv, kan man som alternativ til factor() bruge parse_factor() (fra readr/tidyverse). Denne fungerer præcis ligesom factor() med den ene forskel, at den giver advarsler, hvis værdier bliver tvunget til missing:\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(gndr_3 = parse_factor(gndr, levels = c(\u0026#39;Male\u0026#39;, \u0026#39;Other\u0026#39;))) table(ess18n$gndr_3) Warning message: \u0026quot;630 parsing failures. row col expected actual 2 -- value in level set Female 4 -- value in level set Female 5 -- value in level set Female 8 -- value in level set Female 9 -- value in level set Female ... ... .................. ...... See problems(...) for more details. \u0026quot; Male Other 655 0 "},{"uri":"/intro-til-r-2/rekodkategorisk/recode/","title":"recode","tags":[],"description":"","content":"recode Herunder bruges recode() til at ændre kategorierne for køn til dansk:\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(gndr_da = recode(gndr, \u0026#39;Male\u0026#39; = \u0026#39;Mand\u0026#39;, \u0026#39;Female\u0026#39; = \u0026#39;Kvinde\u0026#39;)) %\u0026gt;% select(idno, gndr, gndr_da) head(ess18n) A tibble: 6 × 3 idnogndrgndr_da \u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt; 5816Male Mand 7251FemaleKvinde 7887Male Mand 9607FemaleKvinde 11688FemaleKvinde 12355Male Mand Ved brug af .default argumentet, kan man angive en værdi for alle øvrige værdier (bortset fra missing):\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(gndr_da = recode(gndr, \u0026#39;Male\u0026#39; = \u0026#39;Mand\u0026#39;, .default = \u0026#39;Ikke mand\u0026#39;)) %\u0026gt;% select(idno, gndr, gndr_da) head(ess18n) A tibble: 6 × 3 idnogndrgndr_da \u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt; 5816Male Mand 7251FemaleIkke mand 7887Male Mand 9607FemaleIkke mand 11688FemaleIkke mand 12355Male Mand "},{"uri":"/intro-til-r-2/ggplot/structure/","title":"Structure of a ggplot","tags":[],"description":"","content":"Structure of a ggplot As a rule, a ggplot follows this template:\nggplot(data = \u0026lt;DATA\u0026gt;, mapping = aes(\u0026lt;MAPPINGS\u0026gt;)) + \u0026lt;GEOM_FUNCTION\u0026gt;(mapping = aes(\u0026lt;MAPPINGS\u0026gt;)) ggplot: Main function. This functino denotes what should be included in the plot. The function ggplot does not in itself contain information about the type of plot. This is specified via a geom funkcion.\ndata: The primary argument for ggplot is the data to be plotted. A data frame is expected mapping: Argument. Here the information is the data is \u0026ldquo;mapped\u0026rdquo; (aes: \u0026ldquo;aesthetics\u0026rdquo;) to the plot. The primary mappings are x and y. Other mappings include colour, fill, shape, size. Mappings are always specified as aes(MAPPINGS) (fx aes(x = 'eduyrs', y = 'grspnum')). Mappings can both be specified as an argument for the main ggplot function or for the specific geom functinon. The difference is in whether the mapping applies to the whole plot or a specific geom layer.\nGEOM_FUNCTION (fx geom_point): The plotting function. A \u0026ldquo;geom\u0026rdquo; is the geometric shape use to represent the data points (bars, lines, boxplots, points etc.). It is possible to have several geom function (several layers) in the same plot.\nmapping: All geom functions in ggplot accept a mapping argument. However, not all aesthetics are compatible with all geoms. A histogram does fx not contain a mapping for y. "},{"uri":"/intro-til-r-2/subsetting/","title":"Subsetting (filter og select)","tags":[],"description":"","content":"Subsetting (filter og select) Se under \u0026ldquo;Intro til R I\u0026rdquo; under sektionen \u0026ldquo;Datahåndtering i R\u0026rdquo;.\n"},{"uri":"/intro-til-r-3/stargazer/tilpas-stargazer/","title":"Tilpasning af output med stargazer","tags":[],"description":"","content":"Tilpasning af output med stargazer stargazer indeholder ufatteligt mange tilpasningsmuligheder, som ændres ved at referere til de forskellige argumenter.\nSelvom man kan tilpasse outputtet i fx Word, efter at det er eksporteret, så frarådes det på det kraftigste at rette i værdier og stjernenotation for signifikansniveau manuelt i fx Word, da der er stor risiko for at lave fejl. Disse bør i stedet tilpasses i stargazer\nHerunder ses et brug af stargazer, der bruger nogen af de mange tilpasningsmuligheder (forklaring under koden:\n# Eksport af én model med tilpasninger stargazer(grsp_model, # hvilken model skal ud? type = \u0026#34;html\u0026#34;, # hvilken filtype skal modellen ud som? out = \u0026#34;grsp_model2.html\u0026#34;, # hvad skal filen med modellen gemmes som? (husk arbejdssti/working directory) star.cutoffs = c(0.05, 0.01, 0.001), # sæt skæringsværdier for stjernemarkeringer for p-værdier decimal.mark = \u0026#34;,\u0026#34;, # ændr decimal-adskiller digit.separator = \u0026#34;.\u0026#34;, # ændr tusinde-adskiller covariate.labels = c(\u0026#34;Antal års uddannelse\u0026#34;, \u0026#34;Arbejdstimer om ugen\u0026#34;), # mærkater for uafhængige variable (obs på rækkefølge - samme som i model) dep.var.labels.include = FALSE, # udelad mærkat for afhængig variabel dep.var.caption = \u0026#34;\u0026#34;, # udelad overskrift for afhængig variabel digits = 2, # Antal decimaler title = \u0026#34;Effekt af års uddannelse og arbejdstid på løn\u0026#34;) # titel Forklaring\ntype: Hvilken filtype skal output gemmes som? (anbefales at bruge \u0026ldquo;html\u0026rdquo;)\nout: Hvad skal filen hedde? (Husk at ende med \u0026ldquo;.html\u0026rdquo;, hvis type = \u0026quot;html\u0026quot; - vær desuden obs på arbejdssti (getwd())\nstar.cutoffs: Skæringsværider for p-værdier til stjernenotation. Specificeres som værdiserie/vector med tre tal, svarnede til værdi for hhv. *, **, *** (fx c(0.05, 0.01, 0.001))\ndecimal.mark: Sæt hvilket tegn, der skal adskille decimaler\ndigit.separator: Sæt hvilket tegn, der skal adskille tusinde\ndigits: Bestemt antal decimaler\ncovariate.labels: Ændre mærkater for uafhængige variable. Skrives som en værdiserie/vector (c()). Skal skrives i samme rækkefølge, som de er skrevet i modellen.\ndep.var.labels.include: Sæt hvorvidt mærkat for afhængig variable skal inkluderes (logisk værdi, TRUE/FALSE)\ndep.var.caption: Sæt overskrift for afhængig variabel (udelad ved at angive \u0026quot;\u0026quot;)\ntitle: Giv output en overskrift\nOutput ser ud som nedenstående, når åbnet i browser:\nEffekt af års uddannelse og arbejdstid på løn Dependent variable: Antal års uddannelse891,15 (856,41) Arbejdstimer om ugen888,39 (458,22) Constant-3.668,75 (20.645,31) Observations710 R20,01 Adjusted R20,005 Residual Std. Error121.581,20 (df = 707) F Statistic2,74 (df = 2; 707) Note:*p\u003c0,05; **p\u003c0,01; ***p\u003c0,001 "},{"uri":"/intro-til-r-1/datah%C3%A5ndtering/select/","title":"Vælg kolonner/variable (select)","tags":[],"description":"","content":"Vælg kolonner/variable med select select tager mindst to input: et datasæt (en dataframe) og en eller flere variable fra det datasæt, som kan beholdes/gemmes i et nyt datasæt.\nDatasættet er altid første input, hvorefter variable listes i den rækkefølge, som man gerne vil have dem, adskilt med mellemrum.\ness18_male_subset \u0026lt;- select(ess18_male, idno, gndr, yrbrn, edlvddk) # Udvælg specifikke variable head(ess18_male_subset) A tibble: 6 × 4 idnogndryrbrnedlvddk \u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt; 5816Male1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 7887Male1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks 12355Male1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 16357Male1991Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 20724Male1958Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 24928Male1965Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, select kan også bruges til at fravælge bestemte variable ved at sætte et - foran variabel-navnet:\ness18_male_subset \u0026lt;- select(ess18_male, -edlvddk) # Alle variable undtagen edlvddk head(ess18_male_subset) A tibble: 6 × 16 idnonetustmppltrstvoteprtvtddkhealthlvpntyrtygrtrgndryrbrneduyrswkhctwkhtotgrspnumfrlgrspinwtm \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt; 5816 907YesSF Socialistisk Folkeparti - Socialist People's PartyGood 199460 Male1974353737370003500061 78873608YesSocialdemokratiet - The Social democrats Fair 198355 Male1958253939360004200089 123551205YesSocialdemokratiet - The Social democrats Fair 198760 Male1963143837360003800048 163574885YesDansk Folkeparti - Danish People's Party Very good201350 Male1991 4373740000 NA50 20724 605YesVenstre, Danmarks Liberale Parti - The Liberal Party Good 1981Never too young Male1958143740280003400065 249281208YesVenstre, Danmarks Liberale Parti - The Liberal Party Very good1984Should never retire permanentlyMale196519NA8050000 NA77 select indeholder en række funktioner til at vælge variable forskellige kriterier, herunder:\nstarts_with(): Vælger alle variable, hvis navne starter med tekststrengen angivet i funktionen contains(): Vælger alle variable, hvis navn indeholder tekststrengen angivet i funktionen. Se mere her: https://dplyr.tidyverse.org/reference/select.html\n"},{"uri":"/pakker-og-rstudio/pakker/","title":"Pakker","tags":[],"description":"","content":"Hvad er pakker? R er anderledes end de programmer i normalt bruger på jeres computer. Når i åbner Word, Excel, Chrome, Firefox eller måske Sims, så er antagelsen at \u0026ldquo;hele\u0026rdquo; programmet er der per automatik. Vi behøver ikke nødvendigvis installere ekstra ting for, at det virker som det skal. Nogle gange henter vi et tilføjelsesprogram som f.eks. add-blocker eller en mod til et spil der gør oplevelsen en lille smule bedre, men for det meste er grundessensen af programmet der ved installation.\nI R fungerer det anderledes. R er open source hvilket vil sige, at der er et stort fællesskab omkring udviklingen af metoder og programmer, der løser meget specifikke opgaver. For ikke at gøre R uendeligt stort med et utal af ekstra funktioner kommer R (og RStudio) kun med de ting der er en del af \u0026ldquo;Base R\u0026rdquo; - hvilket vil sige, at programmet i udgangspunktet kun kan det, som R selv kan løse. Ved at installere pakker åbner man op for nye kommandoer, nye metoder og nye analyseredskaber. Man kan derfor se pakker som en udvidelse af den funktionalitet som R har i sig selv.\nHvor er pakkerne? For at installere en pakke kan man gøre det på to måder. Oftest lærer i langsomt, at det er hurtigere at installere pakkerne via kommando-linjen, men til at starte med kan i navigere hen til R\u0026rsquo;s \u0026ldquo;package manager\u0026rdquo; i menuen \u0026ldquo;Tools\u0026rdquo;:\nNår i trykker på det markerede vil i se denne lille boks:\nI kan lade alt være som det er, men i skal bruge det felt der hedder \u0026ldquo;Packages\u0026rdquo; til at søge i. Her kan i f.eks. skrive stargazer. I vil se, at som i begynder at skrive, så kommer der valgmuligheder op af pakker der har samme startbogstaver. Lad være med at installere i vildskab - der kan opstå konflikter mellem pakker. Når i har fundet stargazer kan i trykke på \u0026ldquo;Install\u0026rdquo;. I vil kunne se i konsollen, at den installerer og ser sådan her ud, når den er færdig:\nR\u0026rsquo;s måde at sige, at pakken er installeret på korrekt er ved at skrive: \u0026ldquo;Package XXX succssefully unpacked and MD5 sums checked\u0026rdquo;.\nInstallation gennem kommado-vinduet En nemmere måde at installere pakker på, som i senere bliver fortrolig med er gennem kommando-vinduet. Her kan i simpelt skrive:\ninstall.packages('stargazer')\nOg trykke enter. Hvis i allerede har gjort det gennem pakkehåndteringsværktøjet ovenfor med stargazer kan i nu forsøge at installere pakken tidyr som vi kommer til at bruge en del gennem kurset. I installerer tidyr ved at skrive:\ninstall.packages('tidyr')\n"},{"uri":"/pakker-og-rstudio/","title":"Basisfunktionerne i R","tags":[],"description":"","content":"Basisfunktionerne i R Følgende afsnit er designet til at give jer en basal indføring i, hvordan i navigerer i RStudio og den basale opsætning. Det kræver ikke, at i ved noget om statistik eller metoder og er udelukkende for at gøre jer komfortable med RStudio før vi reelt starter med arbejdet. Vi starter med opsætningen og basal interaktion på næste side.\n"},{"uri":"/intro-til-r-1/r-sproget-_funktioner/","title":"R Sproget: Funktioner","tags":[],"description":"","content":"Funktioner Funktioner er kommandoer brugt til at transformere objektet på en måde og give et output.\nDet, som man sætter i funktionen, kaldes et \u0026ldquo;argument\u0026rdquo; eller \u0026ldquo;input\u0026rdquo;. Antallet af argumenter varierer mellem funktioner.\nFunktioner har alle den samme opbygning: funktionsnavn(arg1, arg2, arg3). (funktionsnavn med argumenterne i parentes adskilt med kommaer).\nNogle argumenter er krævet, mens andre er valgfrie.\nEksempler på funktioner Gør tekst til blokbogstaver:\nname \u0026lt;- \u0026#39;kilmister\u0026#39; toupper(name) 'KILMISTER' Erstat bogstaver i tekst:\ngsub(\u0026#34;e\u0026#34;, \u0026#34;a\u0026#34;, name) 'kilmistar' Funktioner og output Bemærk at funktioner aldrig ændrer et objekt. Når man bruger en funktion, beder man R om at se et output, men ikke om at ændre noget.\nHvis man vil ændre et objekt, skal man derfor lagre outputtet i et objekt (et nyt eller eksisterende).\nname # uændret selvom det er brugt i flere funktioner 'kilmister' name \u0026lt;- gsub(\u0026#34;e\u0026#34;, \u0026#34;a\u0026#34;, name) # overskriv objekt med ændringen name 'kilmistar' "},{"uri":"/intro-til-r-2/ggplot/combine/","title":"Combining information in a plot","tags":[],"description":"","content":"Combining information with multiple aesthetics and layers The grammar of ggplot2 makes it relatively easy to combine a myriad information into a single plot (below is meant more as an illustrative example):\nggplot(data = ess18_filt, mapping = aes(x = eduyrs, y = grspnum)) + geom_point(mapping = aes(colour = gndr, shape = vote, size = netustm)) + geom_smooth(colour = \u0026#39;lightgreen\u0026#39;) `geom_smooth()` using method = 'loess' and formula 'y ~ x' Warning message: \u0026quot;Removed 1 rows containing non-finite values (stat_smooth).\u0026quot; Warning message: \u0026quot;Removed 34 rows containing missing values (geom_point).\u0026quot; "},{"uri":"/intro-til-r-1/datah%C3%A5ndtering/missing/","title":"Håndtering af missingværdier","tags":[],"description":"","content":"Håndtering af missingværdier Missingværdier er som bekendt angivet med NA i R.\nSom vist ved beregning af deskriptive mål (middelværdi, standardafvigelse osv.), så kan R ikke lave beregninger på missingværdier. Ved nogle beregninger frasorterer R missingværdierne automatisk inden beregning, men andre gange skal man selv specificerer, hvad der skal ske med missingværdierne.\nMan har derfor typisk brug for at kunne identificere hvilke værdier i datasættet, der er missing. NA er dog en speciel værdi, så den kan ikke bruges i et filter lig andre værdier.\nI nedenstående forsøges at udvælge de respondenter fra ess18_male subsettet, som ikke er missing i grspnum (selvangivet månedlig indkomst):\ness18_male_filter \u0026lt;- filter(ess18_male, grspnum != NA) head(ess18_male_filter) A tibble: 0 × 17 idnonetustmppltrstvoteprtvtddkhealthlvpntyrtygrtrgndryrbrnedlvddkeduyrswkhctwkhtotgrspnumfrlgrspinwtm \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt; Ovenstående returnerer ingen rækker, da man ikke kan arbejde med missingværdier på den måde i R.\nFor at identificere missingværdier bruges funktionen is.na(). Funktionen spørger \u0026ldquo;er værdien missing?\u0026rdquo; og returner TRUE/FALSE (TRUE hvis missing; ellers FALSE):\nhead(is.na(ess18_male$grspnum)) # Er de første seks værdier i grspnum missing? FALSEFALSEFALSEFALSEFALSEFALSE Funktionen kan bruges til at finde de observationer, som er missing, så hvordan vælges de, som ikke er missing?\nEn simpel måde at vælge de observationer, som ikke er missing, er ved at \u0026ldquo;vende\u0026rdquo; kommandoen om, sådan at der gives TRUE, hvis de ikke er missing.\nI R kan logiske udtryk vendes om ved at bruge ! foran udtrykket (ved at \u0026ldquo;vende om\u0026rdquo; menes, at TRUE bliver til FALSE, og FALSE bliver til TRUE:\n!(2 \u0026lt; 4) # 2 er mindre end fire, men giver FALSE, da det vendes om med ! FALSE\n! kan også bruges i kombination med is.na():\nhead(!(is.na(ess18_male$grspnum))) # Er de første seks værdier i grspnum ikke missing? TRUETRUETRUETRUETRUETRUE Med ovenstående kan man udelukkende vælge de respondenter, som ikke er missing:\ness18_male_filter \u0026lt;- filter(ess18_male, !(is.na(grspnum))) head(ess18_male_filter) A tibble: 6 × 17 idnonetustmppltrstvoteprtvtddkhealthlvpntyrtygrtrgndryrbrnedlvddkeduyrswkhctwkhtotgrspnumfrlgrspinwtm \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt; 5816 907YesSF Socialistisk Folkeparti - Socialist People's PartyGood 199460 Male1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,353737370003500061 78873608YesSocialdemokratiet - The Social democrats Fair 198355 Male1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks253939360004200089 123551205YesSocialdemokratiet - The Social democrats Fair 198760 Male1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 143837360003800048 163574885YesDansk Folkeparti - Danish People's Party Very good201350 Male1991Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 4373740000 NA50 20724 605YesVenstre, Danmarks Liberale Parti - The Liberal Party Good 1981Never too young Male1958Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 143740280003400065 249281208YesVenstre, Danmarks Liberale Parti - The Liberal Party Very good1984Should never retire permanentlyMale1965Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,19NA8050000 NA77 "},{"uri":"/intro-til-r-2/rekodkategorisk/ifelse/","title":"if_else","tags":[],"description":"","content":"if_else if_else() bruges til at rekode værdier baseret på ét logisk udtryk.\nOpbygningen er: if_else([logisk udtryk], [værdi for sandt], [værdi for falsk])\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(health_r = factor(health, levels = c(\u0026#39;Very bad\u0026#39;, \u0026#39;Bad\u0026#39;, \u0026#39;Fair\u0026#39;, \u0026#39;Good\u0026#39;, \u0026#39;Very good\u0026#39;), ordered = TRUE)) %\u0026gt;% mutate(healthdum = if_else(health_r \u0026lt;= \u0026#34;Fair\u0026#34;, \u0026#34;Not good\u0026#34;, \u0026#34;Good\u0026#34;)) %\u0026gt;% select(idno, health_r, healthdum) head(ess18n) A tibble: 6 × 3 idnohealth_rhealthdum \u0026lt;dbl\u0026gt;\u0026lt;ord\u0026gt;\u0026lt;chr\u0026gt; 5816Good Good 7251Fair Not good 7887Fair Not good 9607Good Good 11688Very badNot good 12355Fair Not good ifelse eller if_else? I basis R findes funktionen ifelse, som fungerer mere eller mindre præcis på samme måde som if_else (som er fra dplyr).\nDen primære forskel mellem funktionerne er, at if_else er mere streng, og forventer at værdierne for sand og falsk er af samme type (\u0026ldquo;class\u0026rdquo;).\nI eksemplet herunder laves en (ubrugelig) rekodning, hvor alle værdier over 5 i ppltrst (tillid til andre mennesker fra 0-10) gives værdien \u0026ldquo;Over 5\u0026rdquo;, mens alle andre beholder deres oprindelige værdi (dette gøres ved bare at specificere den oprindelige variabel under værdien for falsk).\nFørst med ifelse():\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(ppltrst_n = ifelse(ppltrst \u0026gt; 5, \u0026#34;Over 5\u0026#34;, ppltrst)) %\u0026gt;% select(idno, ppltrst, ppltrst_n) head(ess18n) A tibble: 6 × 3 idnoppltrstppltrst_n \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt; 58167Over 5 725155 78878Over 5 96079Over 5 1168855 1235555 ifelse() foretager rekodningen uden problemer, men bemærk at den nye variabel er ændret fra dbl (en numerisk type/class) til chr (\u0026ldquo;character\u0026rdquo; - en string).\nForsøges samme med if_else(), gives der en fejl:\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(ppltrst_n = if_else(ppltrst \u0026gt; 5, \u0026#34;Over 5\u0026#34;, ppltrst)) %\u0026gt;% select(idno, ppltrst, ppltrst_n) head(ess18n) Error: Problem with `mutate()` column `ppltrst_n`. i `ppltrst_n = if_else(ppltrst \u0026gt; 5, \u0026quot;Over 5\u0026quot;, ppltrst)`. x `false` must be a character vector, not a double vector. Traceback: "},{"uri":"/intro-til-r-2/factors/labels/","title":"Labels i en factor","tags":[],"description":"","content":"Labels i en factor factor() funktionen har også et labels argument. Denne bruges til at angive, hvad værdierne i factoren skal hedde. Som standard antager R, at labels skal være det samme som levels, men man kan vælge at specificere andre labels. Disse skal så angives i samme rækkefølge som labels:\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(health_r = factor(health, levels = c(\u0026#39;Very bad\u0026#39;, \u0026#39;Bad\u0026#39;, \u0026#39;Fair\u0026#39;, \u0026#39;Good\u0026#39;, \u0026#39;Very good\u0026#39;), labels = c(\u0026#39;Meget dårligt\u0026#39;, \u0026#39;Dårligt\u0026#39;, \u0026#39;Jævnt\u0026#39;, \u0026#39;Godt\u0026#39;, \u0026#39;Meget godt\u0026#39;), ordered = TRUE)) unique(ess18n$health_r) GodtJævntMeget dårligtMeget godtDårligt\u0026lt;NA\u0026gt; Levels: 'Meget dårligt''Dårligt''Jævnt''Godt''Meget godt' At specificere labels er principielt en rekodning af værdierne. Man kan derfor bruge denne funktionalitet til at slå kategorier sammen også:\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(health_r = factor(health, levels = c(\u0026#39;Very bad\u0026#39;, \u0026#39;Bad\u0026#39;, \u0026#39;Fair\u0026#39;, \u0026#39;Good\u0026#39;, \u0026#39;Very good\u0026#39;), labels = c(\u0026#39;Dårligt\u0026#39;, \u0026#39;Dårligt\u0026#39;, \u0026#39;Jævnt\u0026#39;, \u0026#39;Godt\u0026#39;, \u0026#39;Godt\u0026#39;), ordered = TRUE)) unique(ess18n$health_r) GodtJævntDårligt\u0026lt;NA\u0026gt; Levels: 'Dårligt''Jævnt''Godt' "},{"uri":"/intro-til-r-2/mutate/","title":"Nye variable og rekodning (mutate)","tags":[],"description":"","content":"Nye variable og rekodning (mutate) Se under \u0026ldquo;Intro til R I\u0026rdquo; under sektionen \u0026ldquo;Datahåndtering i R\u0026rdquo;.\n"},{"uri":"/intro-til-r-3/vectors/","title":"Værdirækker (vectors) i R","tags":[],"description":"","content":"Værdirækker (vectors) i R En basal datastruktur i R er en vector.\nEn vector er en række af værdier af den samme type (fx en række tal, en række ord osv.).\nEn vector svarer til en enkelt variabel/kolonne i en dataframe, og man arbejder med vectors på samme måde, som man arbejder med enkelte kolonner (samme funktioner kan bruges).\nVectors dukker op i mange forskellige sammenhænge i R, da de bruges hver gang, at man skal specificere en samling af flere værdier.\nDan en vector\nEn vector dannes med c(), hvor værdierne adskilles med ,:\nnumbers \u0026lt;- c(2, 9, 11, 7, 12, 14, 4) numbers er nu en talrække, som der kan laves beregninger på, ligesom med en variabel i en dataframe:\nmean(numbers) 8.42857142857143\nsd(numbers) 4.35343323738644\n"},{"uri":"/pakker-og-rstudio/stier/","title":"Hvad er stier?","tags":[],"description":"","content":"Stier er\u0026hellip; En \u0026ldquo;sti\u0026rdquo; er en måde at referere til, hvor \u0026ldquo;ting\u0026rdquo; eksisterer på en computer. Samtlige computere (Windows, Mac, Linux, Chromebooks) benytter sig af stier for at kunne finde elementer den skal bruge når man klikker på et ikon, billede eller andet. Når i f.eks. trykker på et program eller en app som er på skrivebordet eller i jeres menu-linje nederst på skærmen, så kan computeren kun forholde sig til hvad det ikon er, fordi ikonet indeholder information om, hvad det skal gøre når i klikker der. En genvej på skrivebordet er derfor, helt simpelt, bare en funktion til at finde hen til det sted hvor en bestemt fil eller mappe ligger. På de fleste Windows-computere er stistrukturen ret ens. F.eks. er mappestrukturen til den bruger jeg sidder på nu:\nC:\\Users\\Admin\nDet refererer til, at min Windows-bruger er placeret på C-drevet (den primære harddisk på min computer). For hvert element der kommer efter \u0026ldquo;C:\u0026quot; taler vi om mapper. Hvis man skulle beskrive ovenstående sti i menneskeord, så kunne man sige, at i min harddisk (\u0026ldquo;C:\u0026rdquo;) findes der en mappe der hedder \u0026ldquo;Users\u0026rdquo; og i mappen \u0026ldquo;Users\u0026rdquo; er der en mappe der hedder \u0026ldquo;Admin\u0026rdquo;. Stier kan enten være generelle, som i første eksempel, eller de kan være enormt specifikke, hvor de refererer til en enkelt fil der ligger i tonsvis af undermapper. F.eks. kan jeg referere til en enkelt fil i mange undermapper ved stien:\nC:\\Users\\Admin\\Jedi\\Jedi\\CPython-37-33\\a86889ca0\\d5efe8caf92ebc20d\\f9ce4ba22ff117\\a9fc16bd81614.pkl\nMen hvad har det med R at gøre? R, som alle andre programmer, har brug for at vide, hvordan den skal finde specifikke elementer på jeres computer. Hvis vi smadder gerne vil have den til at bruge et bestemt datasæt som ikke ligger på nettet, så skal vi vide hvor det datasæt er på vores computer. Det kan vi gøre på mange forskellige måder og denne side viser jer et par eksempler på, hvordan vi gør det nemmest. opsætningen og basal interaktion på næste side.\n"},{"uri":"/intro-til-r-1/tabeldata-r/","title":"Tabeldata i R","tags":[],"description":"","content":"Indlæsning af data med readr (tidyverse) readr er en pakke til at indlæse forskellige datafiler i R.\nR har også basisfunktioner til dette, men readr er mere effektiv.\nreadr er del af pakkesamlingen tidyverse: https://www.tidyverse.org/\nI koden herunder indlæser vi data ind fra en csv-fil og gemmer i objektet ess18:\nlibrary(readr) ess18 \u0026lt;- read_csv(\u0026#34;https://github.com/RolfLund/4semesterR/raw/master/teaching-materials/r-intro/datasets/ESS2018DK_subset.csv\u0026#34;) Indlæsning med peg og klik Data kan også indlæses med peg-og-klik under \u0026ldquo;File\u0026rdquo;-\u0026gt;\u0026ldquo;Import dataset\u0026rdquo;. Her hjælper RStudio med importen af data:\nTabeldata i R: Data Frames ess18 er nu et objekt, der indeholder et datasæt. Bemærk at måden vi danner objektet ikke er anderledes end andre måder, som vi har dannet objekter: objectname \u0026lt;- somefunction(something).\ness18 er en \u0026ldquo;data frame\u0026rdquo;. En \u0026ldquo;data frame\u0026rdquo; er måden R lagrer tabeldata (data struktureret i rækker og kolonner).\nData brugt i undervisningen: European Social Survey 2018 Til R introduktionerne bruger vi et udsnit af European Social Survey fra 2018 (https://www.europeansocialsurvey.org/). Data indeholder kun den danske del af data, nogle udvalgte variable samt nogle få filtreringer.\nKodebog kan findes her: https://www.europeansocialsurvey.org/docs/round9/survey/ESS9_appendix_a7_e03_1.pdf Spørgeskeamet brugt i undersøgelsen kan findes her: https://www.europeansocialsurvey.org/docs/round9/fieldwork/source/ESS9_source_questionnaires.pdf Datasættet indeholder følgende variable:\nvariabel beskrivelse idno Respondent\u0026rsquo;s identification number netustm Internet use, how much time on typical day, in minutes ppltrst Most people can be trusted or you can\u0026rsquo;t be too careful vote Voted last national election prtvtddk Party voted for in last national election, Denmark health Subjective general health lvpntyr Year first left parents for living separately for 2 months or more tygrtr Retire permanently, age too young. SPLIT BALLOT gndr Gender yrbrn Year of birth edlvddk Highest level of education, Denmark eduyrs Years of full-time education completed wkhct Total contracted hours per week in main job overtime excluded wkhtot Total hours normally worked per week in main job overtime included grspnum What is your usual [weekly/monthly/annual] gross pay frlgrsp Fair level of [weekly/monthly/annual] gross pay for you inwtm Interview length in minutes, main questionnaire Udforskning af data frames For at få et overblik over data, kan man bruge funktionen head():\nhead(ess18) A tibble: 6 × 17 idnonetustmppltrstvoteprtvtddkhealthlvpntyrtygrtrgndryrbrnedlvddkeduyrswkhctwkhtotgrspnumfrlgrspinwtm \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt; 5816 907YesSF Socialistisk Folkeparti - Socialist People's PartyGood 199460Male 1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,353737370003500061 72513005YesDansk Folkeparti - Danish People's Party Fair 199340Female1975Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 133234220003000068 78873608YesSocialdemokratiet - The Social democrats Fair 198355Male 1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks253939360004200089 96075409YesAlternativet - The Alternative Good 198264Female1964Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,13323432000 NA50 11688 NA5YesSocialdemokratiet - The Social democrats Very bad196850Female1952Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 23737 NA NA77 123551205YesSocialdemokratiet - The Social democrats Fair 198760Male 1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 143837360003800048 head() viser de første seks rækker af data, og er god til at tjekke, om data ser ud, som det skal.\nVi kan tjekke kolonnenavnene (variabelnavnene) med colnames. dim returnerer antallet af rækker og kolonner/variable.\ncolnames(ess18) 'idno''netustm''ppltrst''vote''prtvtddk''health''lvpntyr''tygrtr''gndr''yrbrn''edlvddk''eduyrs''wkhct''wkhtot''grspnum''frlgrsp''inwtm' dim(ess18) 128517 summary() bruges til at se deskriptive mål for variable i data (antal, middelværdi, standardafvigelse, minimum, maksimum, kvartiler).\nsummary(ess18) idno netustm ppltrst vote Min. : 5816 Min. : 0.0 Min. : 0.00 Length:1285 1st Qu.: 93707 1st Qu.: 90.0 1st Qu.: 6.00 Class :character Median :112877 Median : 150.0 Median : 7.00 Mode :character Mean :110980 Mean : 227.4 Mean : 7.08 3rd Qu.:131072 3rd Qu.: 300.0 3rd Qu.: 8.00 Max. :150446 Max. :1020.0 Max. :10.00 NA's :151 NA's :3 prtvtddk health lvpntyr tygrtr Length:1285 Length:1285 Length:1285 Length:1285 Class :character Class :character Class :character Class :character Mode :character Mode :character Mode :character Mode :character gndr yrbrn edlvddk eduyrs Length:1285 Min. :1929 Length:1285 Min. : 0 Class :character 1st Qu.:1952 Class :character 1st Qu.:11 Mode :character Median :1966 Mode :character Median :14 Mean :1967 Mean :14 3rd Qu.:1982 3rd Qu.:17 Max. :2003 Max. :40 NA's :7 wkhct wkhtot grspnum frlgrsp Min. : 0.00 Min. : 0.00 Min. : 0 Min. : 0 1st Qu.:35.00 1st Qu.:35.00 1st Qu.: 26000 1st Qu.: 28375 Median :37.00 Median :37.00 Median : 32000 Median : 35000 Mean :33.81 Mean :36.44 Mean : 43686 Mean : 37255 3rd Qu.:37.00 3rd Qu.:41.00 3rd Qu.: 41000 3rd Qu.: 40000 Max. :80.00 Max. :90.00 Max. :3000000 Max. :500000 NA's :68 NA's :27 NA's :570 NA's :1033 inwtm Min. : 18.00 1st Qu.: 51.00 Median : 59.00 Mean : 63.32 3rd Qu.: 70.00 Max. :613.00 NA's :5 ​\n"},{"uri":"/intro-til-r-2/rekodkategorisk/casewhen/","title":"case_when","tags":[],"description":"","content":"case_when case_when() bruges til at rekode baseret på flere logiske udtryk. For hvert udtryk bruges ~ efterfulgt af en værdi for at angive, hvilken værdi observationerne, der opfylder kriteriet, skal have. Hvert logisk udtryk adskilles med komma:\nnyvar = case_when( betingelse1 ~ \u0026#34;kategori 1\u0026#34;, betingelse2 ~ \u0026#34;kategori 2\u0026#34;, betingelse3 ~ \u0026#34;kategori 3\u0026#34; ) Herunder dannes en kategorisering af selvangivet arbejdstid om ugen (wkhtot), hvor respondenter inddeles efter, hvorvidt de arbejder mindre end 37 timer, 37 timer eller mere end 37 timer om ugen:\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(wkhtot_cat = case_when( wkhtot == 37 ~ \u0026#34;37 timer om ugen\u0026#34;, wkhtot \u0026lt; 37 ~ \u0026#34;Mindre end 37 timer\u0026#34;, wkhtot \u0026gt; 37 ~ \u0026#34;Mere end 37 timer\u0026#34;) ) %\u0026gt;% select(idno, wkhtot, wkhtot_cat) head(ess18n) A tibble: 6 × 3 idnowkhtotwkhtot_cat \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt; 58163737 timer om ugen 725134Mindre end 37 timer 788739Mere end 37 timer 960734Mindre end 37 timer 116883737 timer om ugen 123553737 timer om ugen "},{"uri":"/intro-til-r-2/pipe/","title":"Kombinér datahåndteringsfunktioner med pipe (%&gt;%)","tags":[],"description":"","content":"Kombinér datahåndteringsfunktioner med pipe (%\u0026gt;%) Det bliver hurtigt omstændeligt at foretage flere datahåndteringsoperationer, hvis man skal specificere navnet på datasættet hver gang. Dette kan forsimples ved brug af \u0026ldquo;pipe\u0026rdquo;-operatoren (%\u0026gt;%).\n\u0026ldquo;pipe\u0026rdquo;-operatoren er en del af tidyverse og er derfor kompatibel med næsten alle funktioner fra de tidyverse pakkerne.\nEt \u0026ldquo;pipe\u0026rdquo; fungerer kort sagt ved at tage outputtet på en kodelinje videre til kodelinjen under, og bruge dette output som input i funktionen på den nye linje. Man bruger for det meste \u0026ldquo;pipe\u0026rdquo; i forbindelse med datahåndtering, da ideen her er, at outputtet af en kodelinje/kommando er en dataframe, som så kan bruges som input på kodelinjen/kommandoen på næste linje.\nHerunder dannes et subet af ESS18, der indeholder alle mænd og variablene idno, gndr, yrbrn, edlvddk:\ness18_male_subset \u0026lt;- filter(ess18, gndr == \u0026#39;Male\u0026#39;) ess18_male_subset \u0026lt;- select(ess18, idno, gndr, yrbrn, edlvddk) head(ess18_male_subset) A tibble: 6 × 4 idnogndryrbrnedlvddk \u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt; 5816Male 1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 7251Female1975Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 7887Male 1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks 9607Female1964Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 11688Female1952Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 12355Male 1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- Ovenstående kode er omstændelig af flere grunde: For det første skal navnet på det endelige subset ess18_male_subset gentages for hver datahåndteringskommando. For det andet skal inputdatasættet (ess18) også gentages hver gang.\nMed et pipe kan dette undgås:\ness18_male_subset \u0026lt;- ess18 %\u0026gt;% # subset skal tage udgangspunkt i ess18 filter(gndr == \u0026#39;Male\u0026#39;) %\u0026gt;% # filter for mænd - datainput er output af ovenstående (en kopi af ess18) select(idno, gndr, yrbrn, edlvddk) # udvælg variable - datainput er output af ovenstående (ess18 filtreret for mænd) head(ess18_male_subset) A tibble: 6 × 4 idnogndryrbrnedlvddk \u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt; 5816Male1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 7887Male1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks 12355Male1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 16357Male1991Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 20724Male1958Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 24928Male1965Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, "},{"uri":"/intro-til-r-2/ggplot/otherplots/","title":"Other plot types/geoms (histogram and boxplot)","tags":[],"description":"","content":"Other plot types/geoms (histogram and boxplot) Because the input for the plot is specified before the actual plot (geom) is chosen, it is easy to switch the plot out with something else.\n# histogram of monthly income ggplot(data = ess18_filt, aes(x = grspnum)) + geom_histogram() `stat_bin()` using `bins = 30`. Pick better value with `binwidth`. ​\n​ ​\n# boxplot of monthly income - only geom is changed ggplot(data = ess18_filt, aes(x = grspnum)) + geom_boxplot() ​ ​\n"},{"uri":"/intro-til-r-3/stargazer/","title":"Output af model (med stargazer)","tags":[],"description":"","content":"Output af model (med stargazer) Outputtet i R konsollen af en model er ikke kønt og egner sig dårligt til at fremstille. Der findes dog en række måder at lave pæne outputs af modeller fra R. En god pakke til dette er pakken stargazer (https://cran.r-project.org/web/packages/stargazer/stargazer.pdf).\nstargazer kan tage forskellige R objekter (herunder modeller) og lave op til outputs, hvor de enkelte dele kan tilpasses. stargazer tillader bl.a. at eksportere output fra en model til en HTML fil. Indholdet af en HTML-fil kan kopieres direkte over i programmer som Microsoft Word.\nFor at danne en output-fil af en model med stargazer kræves som minimum:\nEn model (det objekt hvor modellen er gemt - ikke outputtet af summary()) Bestemme filtype (stargazer kan danne forskellige filtyper, som kan styres med argumentet type. type = \u0026quot;HTML\u0026quot; danner et HTML-output) Angive filnavn, som outputtet skal gemmes til (dette gøres med argumentet out = \u0026lt;filnavn\u0026gt;) OBS! Output-filer fra stargazer gemmes i din arbejdssti\nstargazer gemmer filen i den nuværende arbejdssti (se sektion om filstier). Tjek evt. den nuværende arbejdssti med getwd(), inden du bruger stargazer.\nEksempel på brug af stargazer Herunder dannes output af en af ovenstående model med stargazer():\nstargazer(grsp_model, type = \u0026#34;html\u0026#34;, out = \u0026#34;grsp_model.html\u0026#34;) Outputtet ser ud som nedenstående, når fx åbnet i en browser:\nDependent variable: grspnum eduyrs891.145 (856.409) wkhtot888.389* (458.219) Constant-3,668.748 (20,645.310) Observations710 R20.008 Adjusted R20.005 Residual Std. Error121,581.200 (df = 707) F Statistic2.742* (df = 2; 707) Note:*p\u003c0.1; **p\u003c0.05; ***p\u003c0.01 Outputtet kan føres over i Word ved at markere tabellen og kopiere over. Word skulle gerne genkende automatisk, at det er en tabel, hvorefter den kan redigeres som en hvilken som helst anden tabel i Word.\n"},{"uri":"/intro-til-r-1/datah%C3%A5ndtering/rekodning/","title":"Rekodning og nye variable (mutate)","tags":[],"description":"","content":"Rekodning og nye variable (mutate) At lave nye variable og (simple) rekodninger er typisk gjort på samme måde. Den eneste forskel er blot, om ændringerne skrives til ny variabel, eller om ændringerne overskriver en eksisterende variabel (rekodning).\nI denne sektion ser vi kun på rekodning som \u0026ldquo;omregninger\u0026rdquo; af eksisterende variable. For at se rekodning af kategorier, så se under materialet til \u0026ldquo;Intro til R II\u0026rdquo;.\nRekodning samt at danne nye variable med dplyr Funktionen mutate() i dplyr bruges til at rekode samt til at danne nye variable.\nFunktionen mindst to input:\nEt datasæt, hvor der skal dannes/ændres en variabel Et udtryk for, hvad den ændrede/nye variabel skal indeholde. Dette skrives som nyvar = [variabelindhold]. I nedenstående dannes en variabel for interviewtid i timer. Denne dannes ved at tage inwtm (interviewtid i minutter) og dividere med 60:\ness18 \u0026lt;- mutate(ess18, inwth = inwtm / 60) head(ess18$inwth) 1.016666666666671.133333333333331.483333333333330.8333333333333331.283333333333330.8 Ovenstående danner en ny variabel for interviewtid i timer: inwth.\nDet er typisk bedst at danne nye variable, hvis indholdet i variablen er ændret. Hvis man dog blot ville ændre den oprindelige variabel, skulle man blot specificere det oprindelige variabelnavn i stedet for et nyt:\ness18 \u0026lt;- mutate(ess18, inwtm = inwtm / 60) # Overskriver variabel "},{"uri":"/intro-til-r-2/factors/stringsvsfactor/","title":"Strings (tekstværdier) vs. factors","tags":[],"description":"","content":"Strings (tekstværdier) vs. factors Fordelen ved at bruge factors er, at man kan styre hvordan kategorierne skal forstås af R. Factors tillader også at man kan arbejde med kategorier, som muligvis ikke er til stede i data. Dette er fx brugbart i surveystudier, hvor man kan komme ud for, at visse kategorier ikke er besvaret.\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(gndr_3 = factor(gndr, levels = c(\u0026#39;Female\u0026#39;, \u0026#39;Male\u0026#39;, \u0026#39;Other\u0026#39;))) table(ess18n$gndr_3) Female Male Other 630 655 0 "},{"uri":"/pakker-og-rstudio/stier/mapper-og-stier/","title":"Mapper og stier","tags":[],"description":"","content":"Vi laver en mappe R, om det er på Windows eller Mac, har samme måde den forstår hvor filer ligger. Generelt er det en fordel at have styr på, hvor i placerer jeres data når i får det udleveret, før i giver jer til at specificere noget i R. Som eksempel kan i starte med at lave en mappe på jeres skrivebord eller et andet sted på jeres computer, hvor i plejer at ligge jeres undervisningsmateriale. En almindelig struktur vi ofte ser er, at i har lavet mapper for jeres semester som igen er opdelt i moduler. Det kunne være, at i har lavet en mappe der hedder \u0026ldquo;4. semester\u0026rdquo; og i, i den mappe, har lavet en mappe der hedder: \u0026ldquo;Modul 11\u0026rdquo;. I så fald ville det være fornuftigt at lave en mappe i \u0026ldquo;Modul 11\u0026rdquo;. Placeringen er i virkeligheden mindre vigtig her, så længe i kan huske hvor i laver jeres nye mappe. I den mappe kan i prøve at placere csv-fil (eller et andet datasæt) som i har fået udleveret til en af øvelserne til forelæsningerne. Før i går videre herfra, så skal i have lavet en mappe med et datasæt i. Når i har gjort det, så læs videre.\n"},{"uri":"/intro-til-r-1/enkeltvariable/","title":"Enkeltvariable (vectors)","tags":[],"description":"","content":"Data frames og \u0026ldquo;vectors\u0026rdquo; Data frames består af rækker og kolonner. R forventer typisk at rækkerne indeholder \u0026ldquo;observationer\u0026rdquo; (fx personer), mens kolonner indeholder variable (information omkring observationerne).\nR behandler en enkelt kolonne/variabel som en \u0026ldquo;vector\u0026rdquo;. En \u0026ldquo;vector\u0026rdquo; er en samling af værdier af den samme class (fx tal eller tekster).\nMan udpeger en enkelt kolonne i en data frame med $ (en \u0026ldquo;vector\u0026rdquo;).\nhead(ess18$yrbrn) # første seks værdier i yrbrn 197419751958196419521963 Hver værdi i en variabel har et indeks, som afspejler rækkenummeret i data.\nMan udpeger et specifikt rækkenummer med []:\ness18$yrbrn[10] # Giver 10. værdi (række 10) af yrbrn variabel 1958 ess18$yrbrn[2:10] # Giver række 2 til 10 af yrbrn (begge inkluderet) 197519581964195219631991198419661958 R indeholder en række funktioner til at regne specifikke deskriptive mål, fx min() (minimum), max() (maksimum), mean() (middelværdi), sd() (standardafvigelse) og length() (antal værdier/rækker).\nmin(ess18$yrbrn) # Mindste værdi max(ess18$yrbrn) # Største værdi mean(ess18$yrbrn) # Middelværdi sd(ess18$yrbrn) # Standardafvigelse length(ess18$yrbrn) # Antal værdier i variabel (svarer til antal rækker) 1929 2003 1967.04747081712 18.2944100607406 1285 Husk at vi med R kan lagre hvad som helst som et objekt. Hvis vi fx løbende får brug for at kalde et mål frem, kan vi lagre det som et objekt for sig:\nmean_yrbrn \u0026lt;- mean(ess18$yrbrn) mean_yrbrn 1967.04747081712 unique() giver de unikke værdier i en variabel:\nunique(ess18$health) 'Good''Fair''Very bad''Very good''Bad'NA "},{"uri":"/intro-til-r-1/datah%C3%A5ndtering/classes/","title":"&#34;Classes&#34; i R (ændring af variabeltype)","tags":[],"description":"","content":"\u0026ldquo;Classes\u0026rdquo; i R (ændring af variabeltype) Som nævnt tidligere, adskiller R mellem objekter via deres \u0026ldquo;class\u0026rdquo;.\nFunktionen class() bruges til at tjekke hvilken \u0026ldquo;class\u0026rdquo; objektet har:\nname = \u0026#34;keenan\u0026#34; year = 1964 class(name) \u0026lsquo;character\u0026rsquo;\nclass(year) \u0026rsquo;numeric'\nEnkelte variable(/\u0026ldquo;vectors\u0026rdquo;) kan kun indeholde værdier med samme class. Funktionen class() virker derfor også på variable.\nVariablen tygrtr (i hvilken alder er man for ung til at gå på pension) ligner en variabel, der bør indeholde numeriske værdier (en alder). Ser vi nærmere på variablen, kan vi dog se, at den også indeholder tekst-værdier:\nhead(ess18$tygrtr) '60''40''55''64''50''60' Undersøger vi variablens \u0026ldquo;class\u0026rdquo;, kan vi se, at variablen er lagret som tekst (også kaldt \u0026ldquo;string\u0026rdquo; i programmeringssprog):\nclass(ess18$tygrtr) \u0026lsquo;character\u0026rsquo;\nDette betyder at vi ikke kan lave beregninger med variablen:\nmax(ess18$tygrtr, na.rm = TRUE) # Viser højeste værdi alfabetisk \u0026lsquo;Should never retire permanently\u0026rsquo;\n\u0026ldquo;Class coercion\u0026rdquo; - tving en variabel til en anden type I de fleste tilfælde kan R tvinge værdier fra en type/class til en anden. Ved at gøre dette, bliver inkompatible værdier til missing (NA).\nVærdier kan tvinges til tekst værdier med as.character()\nVærdier kan tvinges til numeriske værdier med as.numeric()\nHerunder dannes en numerisk version af tygrtr (bemærk advarslen):\ness18 \u0026lt;- mutate(ess18, tygrtr_num = as.numeric(tygrtr)) Warning message in mask$eval_all_mutate(quo): \u0026quot;NAs introduced by coercion\u0026quot; Nu kan variablen bruges i beregninger:\nmax(ess18$tygrtr_num, na.rm = TRUE) 88\n"},{"uri":"/intro-til-r-2/ggplot/linearcor/","title":"Inspecting a linear correlation","tags":[],"description":"","content":"Inspecting a linear correlation Combining a scatterplot with a smoothed conditional means plot allows for a quick visualization of a possible linear correlation.\nThe geom_smooth geom accepts the argument method = \u0026quot;lm\u0026quot;. This fits a linear regression line on the data:\nggplot(data = ess18_filt, aes(x = yrbrn, y = grspnum)) + geom_point() + geom_smooth(method = \u0026#34;lm\u0026#34;) `geom_smooth()` using formula 'y ~ x' ​\n​ ​\nBy default the line is fitted with a 95% confidence interval for the line coloured in. This can be disabled with the se argument. The confidence level can be changed with the level argument.\n"},{"uri":"/intro-til-r-2/factors/","title":"Kategoriske variable (factors)","tags":[],"description":"","content":"Factors (kategoriske variable) Kategoriske variable (nominale og ordinale variable) er typisk gemt som typen \u0026ldquo;factor\u0026rdquo; i R.\nFactors bruges til eksplicit at fortælle R, at variablen skal behandles som nominal eller ordinal. Ved at konvertere en variabel til en factor, sætter man både begrænsninger for de mulige værdier (denne variabel indeholder kun X værdier), og man fortæller R, hvordan den skal håndtere variablen, når den bruges i en statistisk model.\nFactors kan enten være \u0026ldquo;unordered\u0026rdquo; eller \u0026ldquo;ordered\u0026rdquo;. En \u0026ldquo;unordered\u0026rdquo; factor svarer til en nominalskaleret variabel (en variabel uden rangorden), mens en \u0026ldquo;ordered\u0026rdquo; factor svarer til en ordinalskaleret variabel (en variabel med rangorden).\nR kan nogen gange finde på at indlæse tekstvariable som factorer. Dette kan give problemer, da man i sådanne tilfælde ikke har kontrol med, hvordan den er blevet konverteret til en factor (fx at en ordinalskaleret bliver lavet til en \u0026ldquo;unordered\u0026rdquo; factor).\nDan en factor En variabel kan omdannes til en factor med funktionen (as.factor):\ness18n \u0026lt;- ess18 %\u0026gt;% mutate(gndr = as.factor(gndr)) head(ess18n) A tibble: 6 × 17 idnonetustmppltrstvoteprtvtddkhealthlvpntyrtygrtrgndryrbrnedlvddkeduyrswkhctwkhtotgrspnumfrlgrspinwtm \u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;fct\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;dbl\u0026gt; 5816 907YesSF Socialistisk Folkeparti - Socialist People's PartyGood 199460Male 1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,353737370003500061 72513005YesDansk Folkeparti - Danish People's Party Fair 199340Female1975Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 133234220003000068 78873608YesSocialdemokratiet - The Social democrats Fair 198355Male 1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks253939360004200089 96075409YesAlternativet - The Alternative Good 198264Female1964Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer,13323432000 NA50 11688 NA5YesSocialdemokratiet - The Social democrats Very bad196850Female1952Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 23737 NA NA77 123551205YesSocialdemokratiet - The Social democrats Fair 198760Male 1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 143837360003800048 Ved bare at se på data, ses ikke umiddelbart nogen ændring, da værdierne stadig er \u0026ldquo;Male\u0026rdquo; og \u0026ldquo;Female\u0026rdquo;. Ses der nærmere på den specifikke variabel, kan det dog ses, hvordan den nu er opbygget:\nunique(ess18n$gndr) MaleFemale Levels: 'Female''Male' "},{"uri":"/pakker-og-rstudio/stier/stier-i-r_studio/","title":"Stier i R-studio","tags":[],"description":"","content":"Hvordan refererer vi til stier? Hvis i sidder på en Windows-computer og forsøger manuelt at gøre det første i denne beskrivelse vil i opleve, at i nok får en fejl. Lad derfor være med at manuelt begynde at kopiere stier endnu, men følg guiden som den skrider fremad. Hvis i senere manuelt vil kopiere en sti (når i ved hvor de er), så se punktet: \u0026ldquo;Skråstregerne vender forkert?\u0026rdquo; under \u0026ldquo;Troubleshooting\u0026rdquo;.\nHvis jeg har lavet en mappe på mit skrivebord der hedder \u0026ldquo;Eksempel_mappe\u0026rdquo; og jeg ved hvad stien til mappen er, så skal jeg ende ud med en kommando der hedder:\nsetwd(\u0026quot;C:/Users/Admin/Desktop/Eksempel_mappe\u0026quot;)\nHer bruger jeg kommandoen setwd, der står for \u0026ldquo;set working directory\u0026rdquo; til at pege på det sted min mappe eksisterer. Den ligger på C-drevet, hvor der findes en mappe der hedder \u0026ldquo;Users\u0026rdquo;. I \u0026ldquo;Users\u0026rdquo; er der en mappe der hedder \u0026ldquo;Admin\u0026rdquo;. I mappen \u0026ldquo;Admin\u0026rdquo; er der en mappe der hedder \u0026ldquo;Desktop\u0026rdquo; og endeligt i mappen \u0026ldquo;Desktop\u0026rdquo; er der en mappe der hedder \u0026ldquo;Eksempel_mappe\u0026rdquo;. Men hvad gør man, hvis man ikke ved hvad stien til den mappe man leder efter hedder?\nDen nemmeste løsning er at bruge R-studio til at finde stien. I R kan i trykke på menuen \u0026ldquo;Session\u0026rdquo; -\u0026gt; \u0026ldquo;Set working directory\u0026rdquo; -\u0026gt; \u0026ldquo;Choose directory\u0026rdquo; som vist her:\nNår vi trykker på det menupunkt kommer der et lille vindue op. Her skal vi navigere til det sted vi har lagt vores mappe. I mit tilfælde åbner vinduet det sidste sted jeg har været således:\nNår jeg navigerer rundt ender jeg med at finde den mappe jeg har lagt min fil i. Klik på mappen én gang uden at gå ind i mappen. Vi skal ikke vælge filen i mappen, men blot mappen og trykke \u0026ldquo;open\u0026rdquo;:\nNår vi har valg mappen, kommer vi tilbage til R, som viser følgende i konsollen:\n"},{"uri":"/intro-til-r-2/ggplot/customize/","title":"Customizing a ggplot","tags":[],"description":"","content":"Customizing the plot A ggplot can be customized in a wide variety of ways. Here the most simple changes and additions are covered.\nLabels Labels can be added for each aesthetic used in the graph with the function labs:\nggplot(data = ess18_filt, mapping = aes(x = eduyrs, y = grspnum, colour = gndr, size = netustm)) + geom_point() + labs(x = \u0026#39;Years of education\u0026#39;, y = \u0026#39;Usually monthly gross pay\u0026#39;, colour = \u0026#39;Gender\u0026#39;, size = \u0026#39;Time spent on internet per day\u0026#39;) Warning message: \u0026quot;Removed 33 rows containing missing values (geom_point).\u0026quot; Title A title can be added using either ggtitle() or with labs().\nggplot(data = ess18_filt, mapping = aes(x = eduyrs, y = grspnum, colour = gndr, size = netustm)) + geom_point() + labs(x = \u0026#39;Years of education\u0026#39;, y = \u0026#39;Usually monthly gross pay\u0026#39;, colour = \u0026#39;Gender\u0026#39;, size = \u0026#39;Time spent on internet per day\u0026#39;) + ggtitle(\u0026#39;Education and Pay\u0026#39;) Warning message: \u0026quot;Removed 33 rows containing missing values (geom_point).\u0026quot; ggplot(data = ess18_filt, mapping = aes(x = eduyrs, y = grspnum, colour = gndr, size = netustm)) + geom_point() + labs(title = \u0026#39;Education and Pay\u0026#39;, x = \u0026#39;Years of education\u0026#39;, y = \u0026#39;Usually monthly gross pay\u0026#39;, colour = \u0026#39;Gender\u0026#39;, size = \u0026#39;Time spent on internet per day\u0026#39;) Warning message: \u0026quot;Removed 33 rows containing missing values (geom_point).\u0026quot; Legend The legend uses values from the data. If one wants to change the legend for the plot, it can be done with the appropriate scale function:\nggplot(data = ess18_filt, mapping = aes(x = eduyrs, y = grspnum, colour = gndr, size = netustm)) + geom_point() + labs(title = \u0026#39;Education and Pay\u0026#39;, x = \u0026#39;Years of education\u0026#39;, y = \u0026#39;Usually monthly gross pay\u0026#39;, colour = \u0026#39;Gender\u0026#39;, size = \u0026#39;Time spent on internet per day\u0026#39;) + scale_colour_discrete(labels = c(\u0026#39;Kvinde\u0026#39;, \u0026#39;Mand\u0026#39;)) Warning message: \u0026quot;Removed 33 rows containing missing values (geom_point).\u0026quot; Themes ggplot contains a wide variety of standard themes (https://ggplot2.tidyverse.org/reference/index.html#section-themes). It is also possible to setup one\u0026rsquo;s own theme. Below the theme_minimal is used:\nggplot(data = ess18_filt, mapping = aes(x = eduyrs, y = grspnum, colour = gndr, size = netustm)) + geom_point() + labs(title = \u0026#39;Education and Pay\u0026#39;, x = \u0026#39;Years of education\u0026#39;, y = \u0026#39;Usually monthly gross pay\u0026#39;, colour = \u0026#39;Gender\u0026#39;, size = \u0026#39;Time spent on internet per day\u0026#39;) + scale_colour_discrete(labels = c(\u0026#39;Kvinde\u0026#39;, \u0026#39;Mand\u0026#39;)) + theme_minimal() Warning message: \u0026quot;Removed 33 rows containing missing values (geom_point).\u0026quot; "},{"uri":"/intro-til-r-1/deskriptive-m%C3%A5l/","title":"Deskriptive mål","tags":[],"description":"","content":"Deskriptive mål R indeholder en række funktioner til at regne specifikke deskriptive mål, fx min() (minimum), max() (maksimum), mean() (middelværdi), sd() (standardafvigelse) og length() (antal værdier/rækker).\nmin(ess18$yrbrn) # Mindste værdi max(ess18$yrbrn) # Største værdi mean(ess18$yrbrn) # Middelværdi sd(ess18$yrbrn) # Standardafvigelse length(ess18$yrbrn) # Antal værdier i variabel (svarer til antal rækker) 1929 2003 1967.04747081712 18.2944100607406 1285 Husk at vi med R kan lagre hvad som helst som et objekt. Hvis vi fx løbende får brug for at kalde et mål frem, kan vi lagre det som et objekt for sig:\nmean_yrbrn \u0026lt;- mean(ess18$yrbrn) mean_yrbrn 1967.04747081712 unique() giver de unikke værdier i en variabel:\nunique(ess18$health) 'Good''Fair''Very bad''Very good''Bad'NA "},{"uri":"/intro-til-r-2/rekodkategorisk/","title":"Kodning af kategoriske variable","tags":[],"description":"","content":"Kodning af kategoriske variable (recode, if_else og case_when) Vi har tidligere set på hvordan variable kan dannes eller rekodes fra eksisterende variable med brug af simple omregninger (fx inwtm / 60 for at få interviewtid i timer).\nRekodning af kategoriske data må gøres anderledes. Her står man typisk enten over for at skulle ændre kategorierne, slå kategorier sammen eller danne kategorier ud fra nogle betingelser (fx hvis man skal lave en intervalskaleret variabel om til kategorisk).\nRedkodning af kategorier med dplyr dplyr har en række funktioner til rekodning af kategoriske værdier. De tre hovedfunktioner er:\nrecode: Ændr enkelte kategorier if_else: Rekodning baseret på ét logisk udtryk case_when: Rekodning baseret på flere logiske udtryk Alle disse skal kombineres med mutate.\n"},{"uri":"/intro-til-r-1/datah%C3%A5ndtering/pipe/","title":"Kombinér datahåndteringsfunktioner med pipe (%&gt;%)","tags":[],"description":"","content":"Kombinér datahåndteringsfunktioner med pipe (%\u0026gt;%) Det bliver hurtigt omstændeligt at foretage flere datahåndteringsoperationer, hvis man skal specificere navnet på datasættet hver gang. Dette kan forsimples ved brug af \u0026ldquo;pipe\u0026rdquo;-operatoren (%\u0026gt;%).\n\u0026ldquo;pipe\u0026rdquo;-operatoren er en del af tidyverse og er derfor kompatibel med næsten alle funktioner fra de tidyverse pakkerne.\nEt \u0026ldquo;pipe\u0026rdquo; fungerer kort sagt ved at tage outputtet på en kodelinje videre til kodelinjen under, og bruge dette output som input i funktionen på den nye linje. Man bruger for det meste \u0026ldquo;pipe\u0026rdquo; i forbindelse med datahåndtering, da ideen her er, at outputtet af en kodelinje/kommando er en dataframe, som så kan bruges som input på kodelinjen/kommandoen på næste linje.\nHerunder dannes et subet af ESS18, der indeholder alle mænd og variablene idno, gndr, yrbrn, edlvddk:\ness18_male_subset \u0026lt;- filter(ess18, gndr == \u0026#39;Male\u0026#39;) ess18_male_subset \u0026lt;- select(ess18, idno, gndr, yrbrn, edlvddk) head(ess18_male_subset) A tibble: 6 × 4 idnogndryrbrnedlvddk \u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt; 5816Male 1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 7251Female1975Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 7887Male 1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks 9607Female1964Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 11688Female1952Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 12355Male 1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- Ovenstående kode er omstændelig af flere grunde: For det første skal navnet på det endelige subset ess18_male_subset gentages for hver datahåndteringskommando. For det andet skal inputdatasættet (ess18) også gentages hver gang.\nMed et pipe kan dette undgås:\ness18_male_subset \u0026lt;- ess18 %\u0026gt;% # subset skal tage udgangspunkt i ess18 filter(gndr == \u0026#39;Male\u0026#39;) %\u0026gt;% # filter for mænd - datainput er output af ovenstående (en kopi af ess18) select(idno, gndr, yrbrn, edlvddk) # udvælg variable - datainput er output af ovenstående (ess18 filtreret for mænd) head(ess18_male_subset) A tibble: 6 × 4 idnogndryrbrnedlvddk \u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt;\u0026lt;dbl\u0026gt;\u0026lt;chr\u0026gt; 5816Male1974Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 7887Male1958Lang videregående uddannelse. Kandidatuddannelser af 5.-6. års varighed, F.eks 12355Male1963Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 16357Male1991Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, 20724Male1958Faglig uddannelse (håndværk, handel, landbrug mv.), F.eks. Faglærte, Social- 24928Male1965Mellemlang videregående uddannelse af 3-4 års varighed. Professionsbachelorer, "},{"uri":"/pakker-og-rstudio/stier/hvorfor-stier/","title":"Hvorfor stier?","tags":[],"description":"","content":"Det smarte ved stier Et spørgsmål man ofte kunne have på dette tidspunkt er, hvorfor er stier smart? Og hvorfor er det vi i det hele taget skal døje med det? Det smarte ved stier og særligt ved \u0026ldquo;working directory\u0026rdquo; er, at vi nu kan referere meget nemt til de filer der eksisterer i vores working directory. I mit eksempel tidligere, fik jeg sat mappen: \u0026ldquo;Eksempel_mappe\u0026rdquo; som mit working directory. Det betyder, at jeg nu nemt kan bede R om at åbne filer fra den mappe, fordi det er her R \u0026ldquo;kigger\u0026rdquo;. Jeg kunne have lyst til at åbne den fil der ligger i min mappe. Filen, i det her eksempel, hedder \u0026ldquo;value99.csv\u0026rdquo;. Det er den eneste fil i min mappe, men der kunne potentielt være en masse forskellige filer i min mappe. Hvis jeg skulle åbne filen uden først at sætte et working directory, så ville jeg være nødt til at bruge den fulde sti til min csv-fil sådan her:\nlibrary(tidyverse) data \u0026lt;- read_csv(\u0026#34;C:/Users/Admin/Desktop/Eksempel_mappe/value99.csv\u0026#34;) Bemærk, at min sti nu er længere. Det er ikke længere nok at fortælle R hvilken mappe det er i, jeg skal forlænge min sti så den nu inkluderer selve filen (value99.csv) som er mit datasæt. Det vil sige, at den er gået fra at være C:/Users/Admin/Desktop/Eksempel_mappe til nu af være C:/Users/Admin/Desktop/Eksempel_mappe/value99.csv. Fordi jeg har sat mit working directory som den mappe hvor mit datasæt er placeret, så kan jeg nu referere til min fil i den mappe markant nemmere. Så kan jeg gøre sådan her fremadrettet:\nlibrary(tidyverse) setwd(\u0026#34;C:/Users/Admin/Desktop/Eksempel_mappe\u0026#34;) data \u0026lt;- read_csv(\u0026#34;value99.csv\u0026#34;) Ved at definere mit working directory ved R nu, at så snart jeg beder den om at åbne filer, gemme filer eller gøre noget som helst der har med det jeg laver at gøre, så skal den kigge i den mappe og KUN i den mappe. Hvis jeg har flere datasæt i samme mappe kan jeg nu nemt referere til dem alle sammen udelukkende med navnet på selve datasættet og ikke med den fulde sti her gang.\nJeg kan også nemt tjekke, hvilke filer der er i mit working directory ved at skrive: dir(). Det giver følgende output:\nSom I kan se, så skriver R, at den har én fil i mappen og at den fil hedder \u0026ldquo;value99.csv\u0026rdquo;\n"},{"uri":"/intro-til-r-1/","title":"Intro til R 1","tags":[],"description":"","content":"Første intro til R Til denne undervisningsgang introduceres I til R. Undervisningsgangen kombinerer præsentation, demonstration og øvelser.\nPakker brugt i undervisningsgangen Vi bruger forskellige pakker fra samlingen \u0026ldquo;tidyverse\u0026rdquo;: https://www.tidyverse.org/. Alle pakker kan installeres ved blot at installere \u0026ldquo;tidyverse\u0026rdquo; (install.packages(\u0026quot;tidyverse\u0026quot;)). Specifikt bruges følgende pakker:\nreadr: https://readr.tidyverse.org/ dplyr: https://dplyr.tidyverse.org/ I kan med fordel installere pakkerne før undervisningsgangen. Se yderligere forklaring om installation af pakker her.\nHvis I har pakkerne installeret, bør I kunne køre nedenstående kode uden fejl (I får muligvis advarsler/warnings, men det er forventet):\nlibrary(readr) library(dplyr) Data brugt i undervisningen Til R introduktionerne bruger vi et udsnit af European Social Survey fra 2018 (https://www.europeansocialsurvey.org/). Udsnittet indeholder nogle udvalgte variable fra den danske del af data med nogle få filtreringer.\nKodebog for hele datasættet kan findes her: https://www.europeansocialsurvey.org/docs/round9/survey/ESS9_appendix_a7_e03_1.pdf Spørgeskemaet brugt i undersøgelsen kan findes her: https://www.europeansocialsurvey.org/docs/round9/fieldwork/source/ESS9_source_questionnaires.pdf Link til data I vil i løbet af undervisningsgangen blive bedt om at indlæse data. Hertil bruges et direkte link til data.\nBrug dette link, når I skal læse data ind: https://github.com/RolfLund/4semesterR/raw/master/teaching-materials/r-intro/datasets/ESS2018DK_subset.csv (I skal ikke klikke på det, men bruge det i R-kode). Data læses ind i R med følgende kode:\nlibrary(readr) ess18 \u0026lt;- read_csv(\u0026#34;https://github.com/RolfLund/4semesterR/raw/master/teaching-materials/r-intro/datasets/ESS2018DK_subset.csv\u0026#34;) Indhold i data Datasættet indeholder følgende variable:\nvariabel beskrivelse idno Respondent\u0026rsquo;s identification number netustm Internet use, how much time on typical day, in minutes ppltrst Most people can be trusted or you can\u0026rsquo;t be too careful vote Voted last national election prtvtddk Party voted for in last national election, Denmark health Subjective general health lvpntyr Year first left parents for living separately for 2 months or more tygrtr Retire permanently, age too young. SPLIT BALLOT gndr Gender yrbrn Year of birth edlvddk Highest level of education, Denmark eduyrs Years of full-time education completed wkhct Total contracted hours per week in main job overtime excluded wkhtot Total hours normally worked per week in main job overtime included grspnum What is your usual [weekly/monthly/annual] gross pay frlgrsp Fair level of [weekly/monthly/annual] gross pay for you inwtm Interview length in minutes, main questionnaire "},{"uri":"/intro-til-r-1/missingv%C3%A6rdier/","title":"Missing-værdier","tags":[],"description":"","content":"Missing-værdier Data vil ofte indeholde missing-værdier. Missing-værdier angiver ikke-gyldige værdier; fx et manglende svar, ugyldigt svar, information der ikke kunne skaffes eller lignende.\nMissing-værdier bruges til at give en værdi uden at give en værdi (cellerne skal indeholde noget). Missing-værdier angives som NA i R.\nBEMÆRK: Det er ikke givet at missing-værdier er kodet som missing på forhånd i et datasæt. Hvordan missing-værdier kodes varierer mellem programmer. Derfor bruger man ofte specifikke talværdier (fx 777777 eller 888888) til at indikere missing-værdier. Man kan også stå i situationer, hvor visse kategorier er irrelevante for analysen, hvor man så koder disse til missing.\nsummary()-funktionen inkluderer antallet af missing-værdier i variablen:\nsummary(ess18$inwtm) Min. 1st Qu. Median Mean 3rd Qu. Max. NA's 18.00 51.00 59.00 63.32 70.00 613.00 5 Missing-værdier er hverken høje eller lave i R. Dette betyder at det ikke er muligt at lave beregninger med missing-værdier.\nmin(ess18$inwtm) # NA is neither high or low - returns NA max(ess18$inwtm) # NA is neither high or low - returns NA mean(ess18$inwtm) # NA is neither high or low - returns NA \u0026lt;NA\u0026gt; \u0026lt;NA\u0026gt; \u0026lt;NA\u0026gt; Ofte er man nødt til at håndtere missing-værdier i sit analysearbejde; enten ved at erstatte dem eller ved at fjerne rækker, som har missing-værdier.\nNogle funktioner har indbyggede argumenter til at håndtere missing-værdier.\nBrug af hjælpe-funktionen Alle R funktioner og kommandoer er dokumenteret, så du behøver ikke at huske hvordan hver enkelt funktion fungerer.\nAlle funktioner har sin egen \u0026ldquo;hjælpefil\u0026rdquo;. Hjælpefilen beskriver hvordan funktionen bruges, og hvad de forskellige argumenter gør.\nMan åbner hjælpefilen for en funktion ved at skrive ? foran.\nKan vi fjerne missing i vores beregning? Ved at kigge på hjælpefilen for max(), kan vi finde argumentet na.rm. Dette argument bruges til at fjerne missing, når R laver beregningen.\nBemærk at argumentet i hjælpefilen er skrevet na.rm = FALSE. Dette angiver standardindstillingen for funktionen. Det vil sige, at hvis ikke man specificerer andet, så er det den måde, som funktionen køres. I dette tilfælde er argumentet som standard sat til FALSE (missing-værdier fjernes ikke).\nVed at ændre argumentet, når vi bruger funktionen, fjernes missing-værdierne inden beregning:\nmax(ess18$inwtm, na.rm = TRUE) 613 "},{"uri":"/intro-til-r-2/ggplot/","title":"Visualisering i R med ggplot2","tags":[],"description":"","content":"Visualisering i R med ggplot2 Denne sektion er på engelsk, men bliver senere oversat til dansk.\nR (more specifically ggplot2) is praised for its visualization capabilities. ggplot2 allows for a high degree of customization and is incredibly versatile in terms of the kinds of visualization possible.\nCheatsheet: https://raw.githubusercontent.com/rstudio/cheatsheets/master/data-visualization-2.1.pdf\nBelow is shown how to create a scatterplot with ggplot2:\nlibrary(ggplot2) ess18_filt \u0026lt;- ess18 %\u0026gt;% filter(grspnum \u0026lt; 200000) ggplot(data = ess18_filt, aes(x = yrbrn, y = grspnum)) + geom_point() ​ ​\n"},{"uri":"/pakker-og-rstudio/stier/praktisk-i-r/","title":"Praktisk i R","tags":[],"description":"","content":"Hvad gør vi i praksis? Fordelen ved at vælge working directory gennem menuerne i R er, at vi kan reproducere det i vores script. Kommandoen setwd() bliver genereret når vi er gået igennem menuerne og det kan tilføjes vores script. Output i mit eksempel er som nedenfor:\nHvis man skal bruge det aktivt i sit script kan man kopiere det output ind i ens script sådan at man fremadrettet ikke skal definere et nyt working directory indtil man har brug for at starte et nyt projekt med en ny mappe. Som eksempel kunne et script se sådan ud i begyndelsen:\n# Vi henter nogle biblioteker først library(tidyverse) library(stargazer) # Vi sætter vores working directory og indlæser vores data setwd(\u0026#34;C:/Users/Admin/Desktop/Eksempel_mappe\u0026#34;) data \u0026lt;- read_csv(\u0026#34;value99.csv\u0026#34;) "},{"uri":"/intro-til-r-1/datah%C3%A5ndtering/","title":"Datahåndtering i R","tags":[],"description":"","content":"Datahåndtering i R Når man arbejder med data, er man næste altid nødt til at foretage visse ændringer i data, før at de er egnet til analyse. Dette kaldes \u0026ldquo;datahåndtering\u0026rdquo;.\nDatahåndtering inkluderer blandt andet:\nUdvælge specifikke observationer og variable (kaldes også subsetting) Danne nye variables Rekode værdier R understøtter datahåndtering med \u0026ldquo;basis\u0026rdquo;-kommandoer, men funktionerne tilgængelige gennem tidyverse (https://www.tidyverse.org/) er langt mere intuitive.\nSubset data med dplyr dplyr indeholder blandt andet funktionerne filter og select, som kan bruges til at subsette data.\nfilter() tager et datasæt og kriterier i form af \u0026ldquo;logiske udtryk\u0026rdquo; (mere om dette senere) med brug af variable. Funktionen returnerer de rækker, som opfylder kriterierne.\nselect() tager et datasæt efterfulgt af de variable, som skal bevares. Funktionen returnerer de valgte variable.\nBEMÆRK: Basis R har også en filter() funktion. Denne funktion overskrives, når man importerer dplyr.\n"},{"uri":"/pakker-og-rstudio/stier/troubleshooting/","title":"Troubleshooting","tags":[],"description":"","content":"Hvad er de ting der ofte går galt? Når det kommer til stier og særligt stier på jeres lokale computere, er der ting der kan gå galt. Her er en lille liste af ting som i kan forsøge, hvis i støder ind i udfordringer.\nSkråstregerne vender forkert? Det med skråstreger er forskelligt fra Mac til Windows. Windows bruger generelt backslash \\ i stier mens Mac bruger forward slash /. Hvis i bemærker det, så laver R-studio det om for Windows-brugerne, men hvorfor? Der er en meget lang forklaring der handler om hvilken arkitektur systemet er bygget på, men den korte er, at Windows bruger backslashes helt forkert til virkelig mange ting. Når i bruger setwd() er det ikke noget problem - R kan selv vende skråstregerne som den foretrækker det, men hvis i kopierer stierne ind i R, så bliver det noget bøvl. Der er fancy måder at ændre det på, men lige nu kan i ændre det ved at lave \\ om til / manuelt.\nI kommer til at referere til filen og ikke mappen når i sætter working directory En helt almindelig fejl er, at i kommer til at skrive:\nsetwd(\u0026quot;C:/Users/Admin/Desktop/Eksempel_mappe/value99.csv\u0026quot;)\nI stedet for:\nsetwd(\u0026quot;C:/Users/Admin/Desktop/Eksempel_mappe\u0026quot;)\nI øverste eksempel prøver jeg at sætte mit working directory direkte til et datasæt og det kan R ikke finde ud af. Working directories kan KUN være mapper som igen har filer i sig. Husk derfor kun at referere til mappen og ikke direkte til stien. Hvis i kører første linje fra koden vil i få fejlen: \u0026ldquo;Cannot change working directory\u0026rdquo;.\n"},{"uri":"/intro-til-r-1/gem/","title":"Gem dit arbejde","tags":[],"description":"","content":"Gem dit arbejde Det vigtigste at gemme, er at gemme sit R script.\nBrug gem-ikonet til at gemme dit script.\n"},{"uri":"/intro-til-r-1/%C3%B8velser/","title":"Øvelser til undervisningsgangen","tags":[],"description":"","content":"ØVELSE 1: OBJEKTER OG FUNKTIONER Dan følgende objekter:\nname1: \u0026quot;araya\u0026quot; name2: \u0026quot;townsend\u0026quot; year1: 1961 (uden citationstegn) year2: \u0026quot;1972\u0026quot; (med citationstegn) Forsøg at udregn alderen for year1 og year2 (nuværende år - year-objekt).\nBrug funktionen toupper() til at ændre name1 til blokbogstaver.\nØVELSE 2: DESKRIPTIVE MÅL Brug forskellige funktioner til at udregne følgende:\nMiddelværdien (mean()) for tid brugt på internettet om dagen (netustm) Den højeste værdi (max()) for tid brugt på internettet om dagen (netustm) Medianen (median()) for brutto månedsløn (grspnum) BEMÆRK! Variablene indeholder muligvis missing-værdier. Tjek hjælpefilerne for at se, hvordan man tager højde for dette.\nØVELSE 3: SUBSETTING Dan et subset af data, der kun indeholder kvinder født efter 1980 og med følgende variable: idno, gndr, yrbrn, netustm\nBrug head() til at tjekke om subsettet ser rigtigt ud.\nBeregn middelværdien for tid brugt på internettet om dagen (netustm) for subsettet.\nEkstra øvelse Dan et subset for mænd født efter 1980 Beregn middelværdien for tid brugt på internettet om dagen (netustm) for subsettet. Er middelværdien højere eller lavere end det for kvinderne? ØVELSE 4: DAN NYE VARIABLE Dan en aldersvariabel (datasættet er fra 2018)\nDan en overtids-variabel, der indeholder forskellen mellem faktiske arbejdstimer om ugen (wkhtot) og arbejdstimer ansat til om ugen (wkhct).\nHvad er den højeste overtidsværdi? (brug enten summary() eller max()\nØVELSE 5: CLASS COERCION Dan en variabel, der indeholder antal år respondenten boede hjemme, inden de flyttede hjemmefra (lvpntyr: first time living separately for 2 months).\nBemærk at variablen lvpntyr muligvis ikke er klar til beregninger med det samme.\nHusk at as.numeric() tvinger værdier om til tal.\n"},{"uri":"/intro-til-r-2/","title":"Intro til R 2","tags":[],"description":"","content":"Introduktion til R (del 2) Program Hvorfor er datahåndtering så vigtigt? Datahåndtering og visualisering i R: Et eksempel Subsetting (filter og select) Nye variable og rekodning (mutate) Kategoriske variable (\u0026ldquo;factors\u0026rdquo; i R) Visualisering i R med ggplot Hvis vi når det Lav dine egne funktioner i R Opsummeringer af data med group_by() HUSK! Al materiale fra i dag kan findes på kursussiden: https://rolflund.github.io/4semesterR/ (sektionerne \u0026ldquo;Intro til R I\u0026rdquo; og \u0026ldquo;Intro til R II\u0026rdquo;)\nBogen \u0026ldquo;R for Data Science\u0026rdquo; introducerer til datahåndtering og visualiseirng, og kan tilgås gratis online: https://r4ds.had.co.nz/\nBrug Google (eller anden søgemaskine)!\n"},{"uri":"/intro-til-r-3/","title":"Intro til R 3","tags":[],"description":"","content":"Introduktion til R (del 3) Program Statistiske modeller i R Output af model Visualisering med ggplot2 "},{"uri":"/%C3%B8velser/","title":"Datahåndteringsøvelse","tags":[],"description":"","content":"Øvelse I denne øvelse skal I undersøge, hvorvidt hvornår man flyttede hjemmefra påvirker ens tillid. I skal bruge European Social Survey subsættet fra 2018, som har været brugt tidligere. Sammenhængen undersøges med lineær regression. Vores population er folk over 25, som er flyttet hjemmefra.\nVariablen lvpntyr (\u0026ldquo;Year first left parents for living separately for 2 months or more\u0026rdquo;) bruges til at finde ud af, hvornår de flyttede hjemmefra (også selvom variablen ikke præcist dækker over dette).\nVariablen ppltrst (\u0026ldquo;Most people can be trusted or you can’t be too careful\u0026rdquo;) bruges til at undersøge tillid.\nDer kontrolleres for køn (gndr) og alder (udregnet med yrbrn \u0026ldquo;fødselsår\u0026rdquo;) samt hvorvidt, man stemte på rød blok til sidste Folketingsvalg eller ej (variabel dannet ud fra prtvtddk - \u0026ldquo;Party voted for in last national election, Denmark\u0026rdquo;.\nLink til data: https://github.com/RolfLund/4semesterR/raw/master/teaching-materials/r-intro/datasets/ESS2018DK_subset.csv\nI kan se variabelbeskrivelse under sektionen \u0026ldquo;Intro til R 1\u0026rdquo;.\nIndlæs data og tjek at data ser ud, som det skal.\nDan en aldersvariabel ud fra deres fødselsår (yrbrn) - Husk at data er fra 2018.\nFiltrer data sådan, at datasættet kun indeholder respondenter, der var over 25 på undersøgelsestidspunktet.\nGør variablen lvpntyr numerisk (husk at værdier, som ikke er tal, bliver gjort til missing på denne måde).\nFiltrer yderligere data sådan, at datasættet kun indeholder responder, der er flyttet hjemmefra (svarende til dem, som er missing - NA - i lvpntyr)\nDan en variabel for, hvor mange år de boede hjemme (differencen mellem yrbrn og lvpntyr)\nDan en variabel for, hvorvidt man stemte på rød eller blå blok ud fra prtvtddk (\u0026ldquo;Party voted for in last national election, Denmark\u0026rdquo;)\n​\tPartierne skal inddeles på følgende måde i den nye variabel (følger opdeling på Wikipedia):\nParti Blok \u0026ldquo;SF Socialistisk Folkeparti - Socialist People\u0026rsquo;s Party\u0026rdquo; Rød \u0026ldquo;Socialdemokratiet - The Social democrats\u0026rdquo; Rød \u0026ldquo;Liberal Alliance - Liberal Alliance\u0026rdquo; Blå \u0026ldquo;Kristendemokraterne - Christian Democrats\u0026rdquo; Blå \u0026ldquo;Enhedslisten - Unity List - The Red-Green Alliance\u0026rdquo; Rød \u0026ldquo;Dansk Folkeparti - Danish People\u0026rsquo;s Party\u0026rdquo; Blå \u0026ldquo;Alternativet - The Alternative\u0026rdquo; Rød \u0026ldquo;Venstre, Danmarks Liberale Parti - The Liberal Party\u0026rdquo; Blå \u0026ldquo;Det Radikale Venstre - The Radical Liberal Party\u0026rdquo; Rød \u0026ldquo;Det Konservative Folkeparti - Conservative People\u0026rsquo;s Party\u0026rdquo; Blå \u0026ldquo;Other\u0026rdquo; missing/NA Dan en simpel lineær regression, der ser på forholdet mellem antal år boet hjemme (variablen dannet i trin 6) og tillid (ppltrst)\nUdvid modellen med kontrolvariable for køn (gndr) og alder (variabel dannet i trin 2)\nUdvid modellen med kontrolvariabel for, hvorvidt man stemte på rød eller blå blok\n"},{"uri":"/","title":"Velkommen til Sociologi, Aalborg Universitet","tags":[],"description":"","content":" SocR - Introduktion til R på Sociologi Velkommen til Sociologi på Aalborg Universitet. Det bliver en fest :) På denne side vil være en simpel vejledning i hvordan i installerer programmet R (og dertilhørende R-studio). Ideen er, at i skal have installeret R og R-studio inden studiestart men vi forventer ikke, at i arbejder videre på siden før senere. R skal først for alvor anvendes på 4. semester, men vores erfaring er, at gradvis eksponering gør livet lettere for jer senere. I skal derfor, før studiestart, have installeret R og R-studio men FØR i begynder at Google hvordan i gør det, så klik videre på denne side, hvor der er guides til både Windows-brugere og Mac-brugere. Chrome OS brugere bliver nødt til at finde en anden computer før studiestart - generelt er Chromebooks med kun Chrome OS en forfærdelig ide grundet software-krav på uddannelsen. Før I går amok i at klikke på ting rundt omkring på siden, så kan i fortsætte ved at trykke på den blå pil/trekant ude til højre, hvor sidens funktionalitet bliver forklaret. Det vil være en alvorlig fordel, at I forholder jer til sidens funktionalitet før i begynder at klikke rundt i menuen til venstre og bare \u0026ldquo;går med flowet\u0026rdquo; indtil videre. Som sagt, inden studiestart behøver i ikke komme længere end menu-punktet: \u0026ldquo;Opsætning og installation af R\u0026rdquo;\nStart med at trykke på den blå pil/trekant til højre i browseren\nDen burde være her omrking \u0026rarr; "},{"uri":"/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"/tags/","title":"Tags","tags":[],"description":"","content":""}]